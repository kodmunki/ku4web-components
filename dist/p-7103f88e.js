class t{static get orientation(){const e=window.screen||{},n=(e.orientation||{}).type||e.mozOrientation||e.msOrientation,r=window.orientation;return n===t.landscapePrimary||90===r?t.landscapePrimary:n===t.landscapeSecondary||-90===r?t.landscapeSecondary:n===t.portraitPrimary||0===r?t.portraitPrimary:n===t.portraitSecondary||180===r?t.portraitSecondary:void 0}static get landscapePrimary(){return"landscape-primary"}static get landscapeSecondary(){return"landscape-secondary"}static get portraitPrimary(){return"portrait-primary"}static get portraitSecondary(){return"portrait-secondary"}static get isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(window.navigator.userAgent)}}class e{static isNull(t){return null===t}static isEmpty(t){return e.isString(t)&&""===t||e.isArray(t)&&t.length<1||e.isObjectLiteral(t)&&Object.keys(t).length<1}static isUndefined(t){return void 0===t}static isZero(t){return 0===t}static exists(t){return!(e.isUndefined(t)||e.isNull(t))}static isNullOrEmpty(t){return!e.exists(t)||e.isEmpty(t)}static isArray(t){return Array.isArray(t)}static isBool(t){return"boolean"==typeof t}static isTrue(t){return e.isBool(t)&&!0===t}static isFalse(t){return e.isBool(t)&&!1===t}static isDate(t){return t instanceof Date}static isNumber(t){return("number"==typeof t||t instanceof Number)&&!isNaN(t)}static isEven(t){return this.isNumber(t)&&!this.isZero(t)&&t%2==0}static isOdd(t){return this.isNumber(t)&&!this.isZero(t)&&!this.isEven(t)}static isString(t){return"string"==typeof t||t instanceof String}static isFunction(t){return t instanceof Function}static isObject(t){return e.exists(t)&&"object"==typeof t&&!(e.isBool(t)||e.isNumber(t)||e.isDate(t)||e.isArray(t)||e.isString(t)||e.isFunction(t))}static isObjectLiteral(t){return e.isObject(t)&&t.constructor==={}.constructor}static isTruthy(t){return!e.isFalsy(t)}static isFalsy(t){return e.isZero(t)||e.isFalse(t)||e.isNullOrEmpty(t)||isNaN(t)}}function n(t){return e.exists(t)&&e.isFunction(t.replace)?t.replace(/^[\s\n]*/,""):t}function r(t){return e.exists(t)&&e.isFunction(t.replace)?t.replace(/[\s\n]*$/,""):t}function i(t,e=0){const n=Math.pow(10,-e);return Math.round(parseFloat((t*n).toFixed(Math.abs(e))))/n}function s(t,e=0){return i(t+5*Math.pow(10,e-1),e)}function u(t,e=0){return 0===t?0:i(t-5*Math.pow(10,e-1),e)}function a(t){const e=(t,n=0,r=1)=>0<t?e(--t,r,n+r):n;return e(t)}function c(t){let e=0,n=1,r=0;for(;t>1;)r=e,e=n,n+=r,t--;return t<1?e:n}Object.freeze({__proto__:null,build:function(...t){return"".concat(...t)},format:function(t,...e){return e.reduce(((t,e,n)=>t.replace(new RegExp(`\\{${n}\\}`,"g"),e.toString())),t)},trim:function(t){return n(r(t))},trimStart:n,trimEnd:r,capitalize:function(t=""){return(t||"").charAt(0).toUpperCase()+(t||"").slice(1).toLowerCase()},mask:function(t,e,n="_"){return t.split("").reduce(((t,e)=>t.replace(new RegExp(n),e)),e)},unmask:function(t,e,n="_"){const r=new RegExp(n);return t.split("").reduce(((t,n,i)=>!r.test(n)&&r.test(e.charAt(i))?t+n:t),"")}}),Object.freeze({__proto__:null,round:i,roundUp:s,roundDown:u,roundTowardZero:function(t,e=0){return t<0?s(t,e):u(t,e)},gcd:function t(e,n){return 0===n?Math.abs(e):t(n,e%n)},fib:a,fib2:c,fibArray:function(t){return Array(t).fill(0).map((()=>a(--t))).reverse()},fib2Array:function(t){return Array(t).fill(0).map((()=>c(--t))).reverse()},tryParseInt:function(t,e=0){const n=parseInt(t);return isNaN(n)?e:n},tryParseFloat:function(t,e=0){const n=parseFloat(t);return isNaN(n)?e:n}});class o{constructor(t=0,n=0){if(!e.isNumber(t)||!e.isNumber(n))throw new Error("Coord requires numeric x and y values");this._x=t,this._y=n}get x(){return this._x}get y(){return this._y}get value(){return{x:this.x,y:this.y}}get half(){return this.divide(new o(2,2))}get abs(){return new o(Math.abs(this.x),Math.abs(this.y))}equals(t){return this.x===t.x&&this.y===t.y}add(t){return new o(this.x+t.x,this.y+t.y)}subtract(t){return new o(this.x-t.x,this.y-t.y)}multiply(t){return new o(this.x*t.x,this.y*t.y)}divide(t){return new o(this.x/t.x,this.y/t.y)}round(t=0){return new o(i(this.x,t),i(this.y,t))}toString(){return`(${this.x},${this.y})`}static canParse(t){return e.isArray(t)?!(isNaN(t[0])||isNaN(t[1])):e.isObjectLiteral(t)&&"x"in t&&"y"in t?!(isNaN(t.x)||isNaN(t.y)):t instanceof o}static parse(t){return e.exists(t)?t instanceof o?t:e.isArray(t)?new o(t[0],t[1]):e.isObjectLiteral(t)&&e.exists(t.x)&&e.exists(t.y)?new o(t.x,t.y):null:null}static tryParse(t){return o.canParse(t)?o.parse(t):null}}class h extends o{constructor(t=0,e=0){super(t,e),this._lengthSquared=Math.pow(t,2)+Math.pow(e,2),this._magnitude=Math.sqrt(this._lengthSquared),this._unitNormalX=0===t&&0===e?0:t/this._magnitude,this._unitNormalY=0===t&&0===e?0:e/this._magnitude}get magnitude(){return this._magnitude}get isZero(){return 0===this.x&&0===this.y}get normal(){return new h(this._unitNormalX,this._unitNormalY)}get invert(){return new h(-this.x,-this.y)}get norm(){return new h(Math.abs(this.x),Math.abs(this.y))}get perpendicular(){return new h(-this.y,this.x)}equals(t){return t instanceof h&&this.x===t.x&&this.y===t.y}add(t){return t instanceof h?new h(this.x+t.x,this.y+t.y):null}dot(t){return t instanceof h?this.x*t.x+this.y*t.y:null}perpendicularAtTo(t){if(!(t instanceof h))return null;const e=t.add(this.projectionOfOnto(t).invert);return new h(e.x,e.y)}projectionOfOnto(t){if(!(t instanceof h))return null;const e=t.normal.scale(this.dot(t.normal));return new h(e.x,e.y)}scale(t){return new h(this.x*t,this.y*t)}unitNormalDot(t){return t instanceof h?this.normal.x*t.normal.x+this.normal.y*t.normal.y:null}reflect(t){if(!(t instanceof h))return null;if(t.isZero)return this;const e=t.normal;return this.add(e.scale(2*e.dot(this)).invert)}round(t=0){return new h(i(this.x,t),i(this.y,t))}}class l extends o{constructor(t,e){super(t,e)}isAbove(t){return this.y<t.y}isBelow(t){return this.y>t.y}isLeftOf(t){return this.x<t.x}isRightOf(t){return this.x>t.x}distanceFrom(t){return new h(this.x-t.x,this.y-t.y)}distanceTo(t){return this.distanceFrom(t).invert}static canParse(t){return t instanceof l||o.canParse(t)}static parse(t){if(t instanceof l)return t;const e=o.parse(t);return new l(e.x,e.y)}static tryParse(t){return l.canParse(t)?l.parse(t):null}}Object.freeze({__proto__:null,uid:function(){return Math.random().toString().substr(2)},uuid:function(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}}),Object.freeze({__proto__:null,pattern:t=>t.toString().replace(/(^\/)|(\/$)/g,"").replace(/\\/g,"\\"),escape:t=>t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),alpha:/^[A-z]+$/,alphaNumeric:/^[A-z0-9]+$/,base64:/^[A-z0-9=]+$/,dataUrl:/^\s*data:([a-z]+\/[a-z0-9+-]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=._~:@/?%\s-]*\s*$/i,email:/^\w+([.\w-]+)?@\w+([.\w-]+)?\.[A-Za-z0-9]{2,}$/,empty:/^$/,numeric:/^-?[0-9]+$/,script:/(<script[A-z0-9\n\s\t\r.={([\])}'",;!&|$/#:<>*?+\u0000-\u0037\u00C2\u00A0\u2122-]*?<\/script>)/,uid:/^\d{14,}$/i,url:/^(https?:\/\/)?[^{}\\:]+\.[A-z0-9]{2,12}(\/[^?\s]+)*\/?(\?([^=?#]+=[^=?#]*(&[^=?#]+=[^=?#]*)*(#.*)?)?)?$/,uuid:/^[{(]?[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$/i});const d=new Set,w=new Set;class y{static get scrollbarWidth(){return window.innerWidth-document.documentElement.clientWidth}static get isScrollPrevented(){return e.exists(y.scrollY)}static preventScroll(){try{d.forEach((t=>t()))}catch(t){}y.position=document.body.style.position,y.top=document.body.style.top,y.left=document.body.style.left,y.width=document.body.style.width,y.height=document.body.style.height,y.documentWidth=document.documentElement.style.width,y.documentHeight=document.documentElement.style.height,y.overflowY=document.documentElement.style.overflowY,y.scrollX=window.scrollX||window.pageXOffset,y.scrollY=window.scrollY||window.pageYOffset;const{scrollbarWidth:t}=y;document.body.style.position="fixed",document.body.style.left=`-${y.scrollX}px`,document.body.style.top=`calc(-${y.scrollY}px - ${window.getComputedStyle(document.body)["padding-top"]} - ${window.getComputedStyle(document.body)["margin-top"]})`,document.body.style.width=`calc(100vw - ${t}px - ${window.getComputedStyle(document.body)["padding-left"]} - ${window.getComputedStyle(document.body)["padding-right"]} - ${window.getComputedStyle(document.body)["margin-left"]} - ${window.getComputedStyle(document.body)["margin-right"]})`,document.body.style.height="calc(100% + 1px)",document.documentElement.style.width="100wh",document.documentElement.style.height="100vh",document.documentElement.style.overflowY=t&&"scroll"}static resumeScroll(){try{w.forEach((t=>t()))}catch(t){}document.body.style.position=y.position,document.body.style.top=y.top,document.body.style.left=y.left,document.body.style.width=y.width,document.body.style.height=y.height,document.documentElement.style.width=y.documentWidth,document.documentElement.style.height=y.documentHeight,document.documentElement.style.overflowY=y.overflowY,window.scrollTo(y.scrollX,y.scrollY),y.position=null,y.top=null,y.left=null,y.width=null,y.height=null,y.documentWidth=null,y.documentHeight=null,y.overflowY=null,y.scrollX=null,y.scrollY=null}static onPreventScroll(t){d.add(t)}static onResumeScroll(t){w.add(t)}}class f{static mute(t){return!!e.exists(t)&&(e.isFunction(t.preventDefault)&&t.preventDefault(),e.isFunction(t.stopPropagation)&&t.stopPropagation(),e.isFunction(t.stopImmediatePropagation)&&t.stopImmediatePropagation(),e.exists(t.cancelBubble)&&(t.cancelBubble=!0),!1)}}const m=t=>new window.FormData(t),p=t=>{const n={};try{m(t).forEach(((t,r)=>{const i=n[r];e.isArray(i)?n[r].push(t):n[r]=e.exists(i)?[n[r],t]:t}))}catch(e){[...t.elements].forEach((t=>{const{name:e,type:r,value:i,files:s}=t;if("file"===r)n[e]=s[0];else if("checkbox"===r||"radio"===r)t.checked&&(n[e]=i);else if(t.multiple){const r=[];t.querySelectorAll("option").forEach((t=>t.selected&&r.push(t.value))),n[e]=r.length<2?r[0]:r}else n[e]=i}))}return n};var g={read:p,readData:m,readJson:t=>JSON.stringify(p(t)),write:(t,n)=>{t.querySelectorAll("input, textarea").forEach((t=>{e.exists(n[t.name])&&("checkbox"===t.type||"radio"===t.type?t.checked=n[t.name]===t.value:t.value=n[t.name])})),t.querySelectorAll("select").forEach((t=>{e.isArray(n[t.name])?[...t.options].forEach((e=>{e.selected=n[t.name].indexOf(e.value)>=0})):e.exists(n[t.name])&&(t.value=n[t.name])}))}};class K{constructor(t,e,n={}){this.key=t,this.msKey=e||t,this.altKey=n.altKey||!1,this.ctrlKey=n.ctrlKey||!1,this.metaKey=n.metaKey||!1,this.shiftKey=n.shiftKey||!1}get alt(){const{key:t,msKey:e,ctrlKey:n,metaKey:r,shiftKey:i}=this;return new K(t,e,{altKey:!0,ctrlKey:n,metaKey:r,shiftKey:i})}get ctrl(){const{key:t,msKey:e,altKey:n,metaKey:r,shiftKey:i}=this;return new K(t,e,{altKey:n,ctrlKey:!0,metaKey:r,shiftKey:i})}get meta(){const{key:t,msKey:e,altKey:n,ctrlKey:r,shiftKey:i}=this;return new K(t,e,{altKey:n,ctrlKey:r,metaKey:!0,shiftKey:i})}get shift(){const{key:t,msKey:e,altKey:n,ctrlKey:r,metaKey:i}=this;return new K(t,e,{altKey:n,ctrlKey:r,metaKey:i,shiftKey:!0})}equals(t){return t instanceof K&&this.altKey===t.altKey&&this.ctrlKey===t.ctrlKey&&this.metaKey===t.metaKey&&this.shiftKey===t.shiftKey&&(this.key===t.key||this.msKey===t.msKey)}didFire(t){const{code:e,key:n,altKey:r,ctrlKey:i,metaKey:s,shiftKey:u}=t,a="Dead"===n?e:n;return t&&("ANY"===this.key||this.equals(new K(a,a,{altKey:r,ctrlKey:i,metaKey:s,shiftKey:u})))}static get press(){return"keypress"}static get down(){return"keydown"}static get up(){return"keyup"}static get any(){return new K("ANY")}static get esc(){return new K("Escape","Esc")}static get enter(){return new K("Enter")}static get space(){return new K(" ","Spacebar")}static get tab(){return new K("Tab")}static get left(){return new K("ArrowLeft","Left")}static get right(){return new K("ArrowRight","Right")}}class b{constructor(t,e=0){this.didTouchStart=this.didTouchStart.bind(this),this.didTouchEnd=this.didTouchEnd.bind(this),this.didTouchMove=this.didTouchMove.bind(this),t.addEventListener("touchstart",this.didTouchStart,{capture:!1,passive:!0}),t.addEventListener("touchend",this.didTouchEnd,{capture:!1,passive:!0}),t.addEventListener("touchmove",this.didTouchMove,{capture:!1,passive:!0}),this.element=t,this.tolerance=e,this.didSwipeLeft=()=>{},this.didSwipeRight=()=>{},this.didMove=()=>{}}onLeft(t){return this.didSwipeLeft=t,this}onRight(t){return this.didSwipeRight=t,this}onMove(t){return this.didMove=t,this}destroy(){const{element:t}=this;return t.removeEventListener("touchstart",this.didTouchStart,!1),t.removeEventListener("touchend",this.didTouchEnd,!1),t.removeEventListener("touchmove",this.didTouchMove,!1),this}didTouchStart({touches:[t]}){this.touchStartPoint=new l(t.pageX,t.pageY)}didTouchEnd(t){const[e]=t.changedTouches,{touchStartPoint:n}=this,r=new l(e.pageX,e.pageY);r.isLeftOf(n)&&Math.abs(r.distanceFrom(n).x)>this.tolerance&&this.didSwipeLeft(t),r.isRightOf(n)&&Math.abs(r.distanceFrom(n).x)>this.tolerance&&this.didSwipeRight(t)}didTouchMove(t){const[e]=t.touches,{touchStartPoint:n}=this,r=new l(e.pageX,e.pageY);this.didMove({distance:r.distanceFrom(n),up:r.isAbove(n),down:r.isBelow(n),left:r.isLeftOf(n),right:r.isRightOf(n)})}}export{K as b,g,y as m,f as p,t,b as v}