import{r as t,h as e,g as r}from"./p-5842f8e6.js";import"./p-408b44e9.js";const o=()=>(t,e,r)=>(t=>{let e;return Object.assign(Object.assign({},r),{[t](...o){return e=e||r[t].call(this,...o),e}})})(r.get?"get":"value");var s=function(t,e,r,o){var s,n=arguments.length,i=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(i=(n<3?s(i):n>3?s(e,r,i):s(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i};const n=class{constructor(e){t(this,e)}get form(){return this.host.querySelector("form")}get fields(){return[].slice.call(this.form.querySelectorAll("ku4-validation"))}async validate(){const{form:t,fields:e}=this,r=e.map(t=>t.validate());Promise.all(r).then(e=>!e.some(t=>!1===t)&&t.submit())}componentDidLoad(){const{form:t}=this,e=t.onsubmit||(()=>{});t.onsubmit=r=>(this.validate(),e.call(r,t),!1)}render(){return e("slot",null)}get host(){return r(this)}};s([o()],n.prototype,"form",null),s([o()],n.prototype,"fields",null);export{n as ku4_form_validation}