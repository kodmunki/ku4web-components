import{r as t,h as r,g as o}from"./p-21570038.js";import"./p-15adacda.js";import{M as e}from"./p-07b8c03c.js";var s=function(t,r,o,e){var s,i=arguments.length,n=i<3?r:null===e?e=Object.getOwnPropertyDescriptor(r,o):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,r,o,e);else for(var f=t.length-1;f>=0;f--)(s=t[f])&&(n=(i<3?s(n):i>3?s(r,o,n):s(r,o))||n);return i>3&&n&&Object.defineProperty(r,o,n),n};const i=class{constructor(r){t(this,r)}get form(){return this.host.querySelector("form")}get fields(){return[].slice.call(this.form.querySelectorAll("ku4-validation"))}async validate(){const{form:t,fields:r}=this,o=r.map(t=>t.validate());Promise.all(o).then(r=>!r.some(t=>!1===t)&&t.submit())}componentDidLoad(){const{form:t}=this,r=t.onsubmit||(()=>{});t.onsubmit=o=>(this.validate(),r.call(o,t),!1)}render(){return r("slot",null)}get host(){return o(this)}};s([e()],i.prototype,"form",null),s([e()],i.prototype,"fields",null);export{i as ku4_form_validation}