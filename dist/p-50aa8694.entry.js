import{r as t,h as n,H as e}from"./p-6590bedc.js";import{t as r}from"./p-5d95ed04.js";import{t as i}from"./p-7103f88e.js";var u,o=(function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,n){return(i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function o(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,i=r(t);if(n){var o=r(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return u(this,e)}}function a(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return e}}(t,n)||function(t,n){if(t){if("string"==typeof t)return s(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function c(t,n,e){return t(e={path:n,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}Object.defineProperty(n,"__esModule",{value:!0});var f=c((function(t,n){function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}function u(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return e}}(t,n)||a(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){if(t){if("string"==typeof t)return s(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}Object.defineProperty(n,"__esModule",{value:!0});var c,f=function(){function t(){e(this,t)}return i(t,null,[{key:"orientation",get:function(){var n=window.screen||{},e=(n.orientation||{}).type||n.mozOrientation||n.msOrientation,r=window.orientation;return e===t.landscapePrimary||90===r?t.landscapePrimary:e===t.landscapeSecondary||-90===r?t.landscapeSecondary:e===t.portraitPrimary||0===r?t.portraitPrimary:e===t.portraitSecondary||180===r?t.portraitSecondary:void 0}},{key:"landscapePrimary",get:function(){return"landscape-primary"}},{key:"landscapeSecondary",get:function(){return"landscape-secondary"}},{key:"portraitPrimary",get:function(){return"portrait-primary"}},{key:"portraitSecondary",get:function(){return"portrait-secondary"}},{key:"isMobile",get:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(window.navigator.userAgent)}}]),t}(),h=(function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,n){return(s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=a(t);if(n){var i=a(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return c(this,e)}}function h(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return e}}(t,n)||function(t,n){if(t){if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function t(){r(this,t)}return u(t,null,[{key:"isNull",value:function(t){return null===t}},{key:"isEmpty",value:function(n){return t.isString(n)&&""===n||t.isArray(n)&&n.length<1||t.isObjectLiteral(n)&&Object.keys(n).length<1}},{key:"isUndefined",value:function(t){return void 0===t}},{key:"isZero",value:function(t){return 0===t}},{key:"exists",value:function(n){return!(t.isUndefined(n)||t.isNull(n))}},{key:"isNullOrEmpty",value:function(n){return!t.exists(n)||t.isEmpty(n)}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isBool",value:function(t){return"boolean"==typeof t}},{key:"isTrue",value:function(n){return t.isBool(n)&&!0===n}},{key:"isFalse",value:function(n){return t.isBool(n)&&!1===n}},{key:"isDate",value:function(t){return t instanceof Date}},{key:"isNumber",value:function(t){return("number"==typeof t||t instanceof Number)&&!isNaN(t)}},{key:"isEven",value:function(t){return this.isNumber(t)&&!this.isZero(t)&&t%2==0}},{key:"isOdd",value:function(t){return this.isNumber(t)&&!this.isZero(t)&&!this.isEven(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"isFunction",value:function(t){return t instanceof Function}},{key:"isObject",value:function(n){return t.exists(n)&&"object"===e(n)&&!(t.isBool(n)||t.isNumber(n)||t.isDate(n)||t.isArray(n)||t.isString(n)||t.isFunction(n))}},{key:"isObjectLiteral",value:function(n){return t.isObject(n)&&n.constructor==={}.constructor}},{key:"isTruthy",value:function(n){return!t.isFalsy(n)}},{key:"isFalsy",value:function(n){return t.isZero(n)||t.isFalse(n)||t.isNullOrEmpty(n)||isNaN(n)}}]),t}();function d(){var t;return(t="").concat.apply(t,arguments)}function v(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return e.reduce((function(t,n,e){return t.replace(new RegExp("\\{".concat(e,"\\}"),"g"),n.toString())}),t)}function k(t){return w(p(t))}function w(t){return y.exists(t)&&y.isFunction(t.replace)?t.replace(/^[\s\n]*/,""):t}function p(t){return y.exists(t)&&y.isFunction(t.replace)?t.replace(/[\s\n]*$/,""):t}var m,g=Object.freeze({__proto__:null,build:d,format:v,trim:k,trimStart:w,trimEnd:p,capitalize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(t||"").charAt(0).toUpperCase()+(t||"").slice(1).toLowerCase()},mask:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_";return t.split("").reduce((function(t,n){return t.replace(new RegExp(e),n)}),n)},unmask:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_",r=new RegExp(e);return t.split("").reduce((function(t,e,i){return!r.test(e)&&r.test(n.charAt(i))?t+e:t}),"")}}),b=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(this,t),this._first=n||"",this._middle=e||"",this._last=i||""}return u(t,[{key:"equals",value:function(t){return y.exists(t)&&t.first===this.first&&t.middle===this.middle&&t.last===this.last}},{key:"toString",value:function(t){var n=this.first.charAt(0),e=this.middle.charAt(0),r=this.last.charAt(0);return y.isNullOrEmpty(t)?this.full:t.replace(/([FfMmLl])/g,"{$1}").replace("{F}",this.first).replace("{M}",this.middle).replace("{L}",this.last).replace("{f}",n).replace("{m}",e).replace("{l}",r)}},{key:"first",get:function(){return this._first}},{key:"middle",get:function(){return this._middle}},{key:"last",get:function(){return this._last}},{key:"full",get:function(){var t=y.isNullOrEmpty(this.middle)?"F L":"F M L";return k(this.toString(t).replace(/\s+/," "))}},{key:"initials",get:function(){var t=y.isNullOrEmpty(this.middle)?"f.l.":"f.m.l.";return k(this.toString(t).replace(/\s{2,}/,""))}}]),t}(),S=function(){function t(n){r(this,t),this._list=n,this._head=0}return u(t,[{key:"isEmpty",get:function(){return this.length<1}},{key:"index",get:function(){return this._head}},{key:"length",get:function(){return this._list.length}},{key:"current",get:function(){return this._list[this._head]}},{key:"next",get:function(){var t=this._head;return this._head=t++<this.length-1?t:0,this.current}},{key:"prev",get:function(){var t=this._head;return this._head=--t<0?this.length-1:t,this.current}},{key:"peekNext",get:function(){var t=this._head;return this._list[t+1<this.length?t+1:0]}},{key:"peekPrev",get:function(){var t=this._head;return this._list[t-1<0?this.length-1:t-1]}}]),t}(),A=function(){function t(n,e,i){if(r(this,t),e<1||e>12)throw new Error("Invalid month at Assert.DayPoint");if(i<1||i>P(e,n))throw new Error("Invalid date at DayPoint");this._value=arguments.length>=3?new Date(n,e-1,i):new Date,this._day=this._value.getDay(),this._date=i,this._month=e,this._year=n}return u(t,[{key:"add",value:function(t,n,e){function r(t,n,e){for(var r=t,i=n;i--;)r=r[e];return r}var i=Math.abs,u=i(t),o=i(e),a=i(n),s=e<0?"prevDay":"nextDay",c=n<0?"prevMonth":"nextMonth";return r(r(r(this,u,t<0?"prevYear":"nextYear"),a,c),o,s)}},{key:"isBefore",value:function(t){return!(this.isAfter(t)||this.equals(t))}},{key:"isAfter",value:function(t){var n=this._year,e=t.year,r=this._month,i=t.month;return n>e||n===e&&r>i||n===e&&r===i&&this._date>t.date}},{key:"equals",value:function(t){return this._year===t.year&&this._month===t.month&&this._date===t.date}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mm/dd/yyyy",n=/y{3,}/i.test(t)?this._year:this.shortYear,e=this._month,r=this._date,i="{0}",u=/m{2}/i.test(t)&&e<10?"0{1}":"{1}",o=/d{2}/i.test(t)&&r<10?"0{2}":"{2}",a=t.replace(/y+/gi,i).replace(/m+/gi,u).replace(/d+/gi,o);return v(a,n,e,r)}},{key:"toDate",value:function(){return this._value}},{key:"toJson",value:function(){return this._value.toJSON()}},{key:"value",get:function(){return this._value}},{key:"day",get:function(){return this._day}},{key:"date",get:function(){return this._date}},{key:"month",get:function(){return this._month}},{key:"year",get:function(){return this._year}},{key:"shortYear",get:function(){var t=this._year.toString();return parseInt(t.substr(t.length-2))}},{key:"isWeekday",get:function(){var t=this._day;return t>0&&t<6}},{key:"isWeekend",get:function(){return!this.isWeekday}},{key:"isLeapYear",get:function(){return D(this._year)}},{key:"nextDay",get:function(){return F(this,1,0,0)}},{key:"prevDay",get:function(){return F(this,-1,0,0)}},{key:"nextMonth",get:function(){return F(this,0,1,0)}},{key:"prevMonth",get:function(){return F(this,0,-1,0)}},{key:"nextYear",get:function(){return F(this,0,0,1)}},{key:"prevYear",get:function(){return F(this,0,0,-1)}},{key:"firstDayOfMonth",get:function(){return new t(this._year,this._month,1)}},{key:"lastDayOfMonth",get:function(){return new t(this._year,this._month,P(this._month,this._year))}}],[{key:"canParse",value:function(t){return!!(y.isString(t)||y.isNumber(t)||y.isDate(t))&&!isNaN(new Date(t).valueOf())}},{key:"parse",value:function(n){if(n instanceof t)return n;var e=y.isString(n)?k(n).replace(/T\d{2}:\d{2}:\d{2}(.\d+)?Z/,""):n;if(/^\d{4}-\d{1,2}-\d{1,2}$/.test(e)){var r=e.split("-"),i=h(r,1)[0];r.push(i),r.shift(),e=r.join("/")}var u=new Date(e);if(!y.exists(e)||isNaN(u.valueOf()))throw new Error(v("Cannot parse value= {0}",e));return new t(u.getFullYear(),u.getMonth()+1,u.getDate())}},{key:"tryParse",value:function(n){return t.canParse(n)?t.parse(n):null}},{key:"assumeNow",value:function(n){m=t.parse(n)}},{key:"today",get:function(){return m||t.parse(new Date)}}]),t}();function P(t,n){return 2===t?D(n)?29:28:t<8&&y.isEven(t)||t>7&&y.isOdd(t)?30:31}function D(t){var n=t.toString().split(/\B/);return parseFloat(d(n[n.length-2],n[n.length-1]))%4==0}function F(t,n,e,r){var i=t.month,u=t.year,o=t.date,a=e,s=r,c=o+n,f=i+a,h=u+s;if(o+n>P(i,u)&&(c=1,f=i+a+1),o+n<1){var l=t.prevMonth;c=P(l.month,l.year),f=i+a-1}return f>12&&(f=1,h=u+s+1),f<1&&(f=12,h=u+s-1),new A(h,f,c)}function E(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=Math.pow(10,-n);return Math.round(parseFloat((t*e).toFixed(Math.abs(n))))/e}function M(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=5*Math.pow(10,n-1);return E(t+e,n)}function O(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t)return 0;var e=5*Math.pow(10,n-1);return E(t-e,n)}function j(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t<0?M(t,n):O(t,n)}function x(t){return function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return 0<n?t(--n,r,e+r):e}(t)}function N(t){for(var n=0,e=1,r=0;t>1;)r=n,n=e,e+=r,t--;return t<1?n:e}function _(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=parseInt(t);return isNaN(e)?n:e}var C=Object.freeze({__proto__:null,round:E,roundUp:M,roundDown:O,roundTowardZero:j,gcd:function t(n,e){return 0===e?Math.abs(n):t(e,n%e)},fib:x,fib2:N,fibArray:function(t){return Array(t).fill(0).map((function(){return x(--t)})).reverse()},fib2Array:function(t){return Array(t).fill(0).map((function(){return N(--t)})).reverse()},tryParseInt:_,tryParseFloat:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=parseFloat(t);return isNaN(e)?n:e}}),I=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;if(r(this,t),!y.isNumber(n))throw new Error("Money requires valid numeric amount.");var i=j(n);this._cents=/\./.test(n)?parseFloat(n.toString().replace(/\d+\./,".")):0,this._dollars=i,this._currency=e||"$",this._value=n}return u(t,[{key:"add",value:function(n){return T(this,n),new t(this.value+n.value,this.currency)}},{key:"subtract",value:function(n){return T(this,n),new t(this.value-n.value,this.currency)}},{key:"multiply",value:function(n){if(!y.isNumber(n))throw new Error("Invalid factor ".concat(n));return new t(this.value*n,this.currency)}},{key:"divide",value:function(n){if(!y.isNumber(n))throw new Error("Invalid divisor ".concat(n));return new t(this.value/n,this.currency)}},{key:"equals",value:function(t){return this.isOfCurrency(t)&&this.value===t.value}},{key:"isGreaterThan",value:function(t){return T(this,t),this.value>t.value}},{key:"isLessThan",value:function(t){return T(this,t),this.value<t.value}},{key:"round",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(E(this.value,n),this.currency)}},{key:"roundDown",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(O(this.value,n),this.currency)}},{key:"roundUp",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(M(this.value,n),this.currency)}},{key:"exchange",value:function(n,e){return new t(this.multiply(n).value,e)}},{key:"isOfCurrency",value:function(t){return this.currency===t.currency}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"d.c2",n=/d(.)c(\d+)/.exec(t),e=h(n,3),r=e[1],i=e[2],u={".":",",",":"."}[r],o=R(this.dollars,u),a=$(this.cents,_(i,2)),s="".concat(this.currency).concat(o).concat(r).concat(a);return this.value<0?"(".concat(s,")"):s}},{key:"cents",get:function(){return this._cents}},{key:"dollars",get:function(){return this._dollars}},{key:"currency",get:function(){return this._currency}},{key:"value",get:function(){return this._value}},{key:"nearestWhole",get:function(){return new t(E(this.value,0),this.currency)}},{key:"nearestDollar",get:function(){return this.nearestWhole}}],[{key:"zero",value:function(n){return new t(0,n)}},{key:"isMoney",value:function(n){return n instanceof t}},{key:"canParse",value:function(n){try{return t.parse(n),!0}catch(t){return!1}}},{key:"parse",value:function(n){if(y.isNumber(n))return new t(n);var e=n;if(/,\d{2}$/.test(n)){var r=n.split(","),i=r.pop(),u=r.join().replace(/\./g,",");e="".concat(u,".").concat(i)}var o=/(\(.*\))|(-)/.test(e),a=o?1:0,s=e.match(/[^\d.,-]/g),c=y.isArray(s)?s[a]:null,f=parseFloat(e.replace(/[^\d.]/g,""));return new t(o?-f:f,c)}},{key:"tryParse",value:function(n){return t.canParse(n)?t.parse(n):null}}]),t}();function T(t,n){if(!t.isOfCurrency(n))throw new Error("Invalid operation on non-conforming currencies. ".concat(t.currency," !== ").concat(n.currency))}function R(t,n){if(0===t)return"0";var e=t.toString().replace(/[^\d]/,"").split(/\B/),r=0;return e.reverse().reduce((function(t,e){return r>0&&!(r%3)&&(t.push(n),r=0),t.push(e),r++,t}),[]).reverse().join("").replace(/[^\d]$/,"")}function $(t,n){var e=t.toString().replace(/[^\d]|0\./g,""),r="0".repeat(n);return"".concat(e).concat(r).slice(0,n)}var B=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(r(this,t),!y.isNumber(n)||!y.isNumber(e))throw new Error("Coord requires numeric x and y values");this._x=n,this._y=e}return u(t,[{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"add",value:function(n){return new t(this.x+n.x,this.y+n.y)}},{key:"subtract",value:function(n){return new t(this.x-n.x,this.y-n.y)}},{key:"multiply",value:function(n){return new t(this.x*n.x,this.y*n.y)}},{key:"divide",value:function(n){return new t(this.x/n.x,this.y/n.y)}},{key:"round",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new t(E(this.x,n),E(this.y,n))}},{key:"toString",value:function(){return"(".concat(this.x,",").concat(this.y,")")}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"value",get:function(){return{x:this.x,y:this.y}}},{key:"half",get:function(){return this.divide(new t(2,2))}},{key:"abs",get:function(){return new t(Math.abs(this.x),Math.abs(this.y))}}],[{key:"canParse",value:function(n){return y.isArray(n)?!(isNaN(n[0])||isNaN(n[1])):y.isObjectLiteral(n)&&"x"in n&&"y"in n?!(isNaN(n.x)||isNaN(n.y)):n instanceof t}},{key:"parse",value:function(n){return y.exists(n)?n instanceof t?n:y.isArray(n)?new t(n[0],n[1]):y.isObjectLiteral(n)&&y.exists(n.x)&&y.exists(n.y)?new t(n.x,n.y):null:null}},{key:"tryParse",value:function(n){return t.canParse(n)?t.parse(n):null}}]),t}(),L=function(){o(n,B);var t=f(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r(this,n),(e=t.call(this,i,u))._lengthSquared=Math.pow(i,2)+Math.pow(u,2),e._magnitude=Math.sqrt(e._lengthSquared),e._unitNormalX=0===i&&0===u?0:i/e._magnitude,e._unitNormalY=0===i&&0===u?0:u/e._magnitude,e}return u(n,[{key:"equals",value:function(t){return t instanceof n&&this.x===t.x&&this.y===t.y}},{key:"add",value:function(t){return t instanceof n?new n(this.x+t.x,this.y+t.y):null}},{key:"dot",value:function(t){return t instanceof n?this.x*t.x+this.y*t.y:null}},{key:"perpendicularAtTo",value:function(t){if(!(t instanceof n))return null;var e=t.add(this.projectionOfOnto(t).invert);return new n(e.x,e.y)}},{key:"projectionOfOnto",value:function(t){if(!(t instanceof n))return null;var e=t.normal.scale(this.dot(t.normal));return new n(e.x,e.y)}},{key:"scale",value:function(t){return new n(this.x*t,this.y*t)}},{key:"unitNormalDot",value:function(t){return t instanceof n?this.normal.x*t.normal.x+this.normal.y*t.normal.y:null}},{key:"reflect",value:function(t){if(!(t instanceof n))return null;if(t.isZero)return this;var e=t.normal;return this.add(e.scale(2*e.dot(this)).invert)}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new n(E(this.x,t),E(this.y,t))}},{key:"magnitude",get:function(){return this._magnitude}},{key:"isZero",get:function(){return 0===this.x&&0===this.y}},{key:"normal",get:function(){return new n(this._unitNormalX,this._unitNormalY)}},{key:"invert",get:function(){return new n(-this.x,-this.y)}},{key:"norm",get:function(){return new n(Math.abs(this.x),Math.abs(this.y))}},{key:"perpendicular",get:function(){return new n(-this.y,this.x)}}]),n}(),z=function(){o(n,B);var t=f(n);function n(e,i){return r(this,n),t.call(this,e,i)}return u(n,[{key:"isAbove",value:function(t){return this.y<t.y}},{key:"isBelow",value:function(t){return this.y>t.y}},{key:"isLeftOf",value:function(t){return this.x<t.x}},{key:"isRightOf",value:function(t){return this.x>t.x}},{key:"distanceFrom",value:function(t){return new L(this.x-t.x,this.y-t.y)}},{key:"distanceTo",value:function(t){return this.distanceFrom(t).invert}}],[{key:"canParse",value:function(t){return t instanceof n||B.canParse(t)}},{key:"parse",value:function(t){if(t instanceof n)return t;var e=B.parse(t);return new n(e.x,e.y)}},{key:"tryParse",value:function(t){return n.canParse(t)?n.parse(t):null}}]),n}(),G=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,t),this.origin=new z(n,e),this.dimensions=new B(i,u),this.diagonal=z.parse(this.origin.add(this.dimensions)),this.center=this.diagonal.half}return u(t,[{key:"contains",value:function(t){return this.origin.isAbove(t)&&this.origin.isLeftOf(t)&&this.diagonal.isRightOf(t)&&this.diagonal.isBelow(t)}},{key:"aspectToFit",value:function(n){var e=this.dimensions,r=n.dimensions,i=r.x,u=r.y,o=e.x,a=e.y;return o>a&&0!==o?(a*=i/o,o=i,a>u&&(o*=(a=u)/e.y)):a>u&&(o*=u/a,a=u),new t(this.origin.x,this.origin.y,o,a)}}]),t}(),U=Object.freeze({__proto__:null,uid:function(){return Math.random().toString().substr(2)},uuid:function(){return function t(n){return n?(n^16*Math.random()>>n/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}}),K=function(){function t(){if(r(this,t),this.constructor===t)throw new Error("Cannot instantiate abstract class: AbstractSpecification")}return u(t,[{key:"and",value:function(t){return new q(this,t)}},{key:"or",value:function(t){return new Y(this,t)}},{key:"xor",value:function(t){return new W(this,t)}},{key:"not",value:function(t){return new Z(this,t)}},{key:"isSatisfiedBy",value:function(){throw new Error("Abstract method must be implemented.")}}]),t}(),q=function(){o(n,K);var t=f(n);function n(e,i){var u;return r(this,n),(u=t.call(this))._specificationA=e,u._specificationB=i,u}return u(n,[{key:"isSatisfiedBy",value:function(t){return this._specificationA.isSatisfiedBy(t)&&this._specificationB.isSatisfiedBy(t)}}]),n}(),Y=function(){o(n,K);var t=f(n);function n(e,i){var u;return r(this,n),(u=t.call(this))._specificationA=e,u._specificationB=i,u}return u(n,[{key:"isSatisfiedBy",value:function(t){return this._specificationA.isSatisfiedBy(t)||this._specificationB.isSatisfiedBy(t)}}]),n}(),W=function(){o(n,K);var t=f(n);function n(e,i){var u;return r(this,n),(u=t.call(this))._specificationA=e,u._specificationB=i,u}return u(n,[{key:"isSatisfiedBy",value:function(t){return!this._specificationA.isSatisfiedBy(t)!=!this._specificationB.isSatisfiedBy(t)}}]),n}(),Z=function(){o(n,K);var t=f(n);function n(e){var i;return r(this,n),(i=t.call(this))._specification=e,i}return u(n,[{key:"isSatisfiedBy",value:function(t){return!this._specification.isSatisfiedBy(t)}}]),n}(),V=(function(){o(n,K);var t=f(n);function n(){return r(this,n),t.apply(this,arguments)}u(n,[{key:"isSatisfiedBy",value:function(){return!0}}])}(),function(){o(n,K);var t=f(n);function n(){return r(this,n),t.apply(this,arguments)}u(n,[{key:"isSatisfiedBy",value:function(){return!1}}])}(),function(){function t(){if(r(this,t),this.constructor===t)throw new Error("Cannot instantiate abstract class.")}return u(t,[{key:"execute",value:function(){throw new Error("Abstract method must be implemented.")}}]),t}()),H=Object.freeze({__proto__:null,pattern:function(t){return t.toString().replace(/(^\/)|(\/$)/g,"").replace(/\\/g,"\\")},escape:function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},alpha:/^[A-z]+$/,alphaNumeric:/^[A-z0-9]+$/,base64:/^[A-z0-9=]+$/,dataUrl:/^\s*data:([a-z]+\/[a-z0-9+-]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=._~:@/?%\s-]*\s*$/i,email:/^\w+([.\w-]+)?@\w+([.\w-]+)?\.[A-Za-z0-9]{2,}$/,empty:/^$/,numeric:/^-?[0-9]+$/,script:/(<script[A-z0-9\n\s\t\r.={([\])}'",;!&|$/#:<>*?+\u0000-\u0037\u00C2\u00A0\u2122-]*?<\/script>)/,uid:/^\d{14,}$/i,url:/^(https?:\/\/)?[^{}\\:]+\.[A-z0-9]{2,12}(\/[^?\s]+)*\/?(\?([^=?#]+=[^=?#]*(&[^=?#]+=[^=?#]*)*(#.*)?)?)?$/,uuid:/^[{(]?[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$/i}),J=function(){function t(n){r(this,t),this._milliseconds=n}return u(t,[{key:"onInterval",value:function(t){return this.clear(),this._didInterval=t,this}},{key:"start",value:function(){var t=this;return this.clear(),this._intervalId=setInterval((function(){t._didInterval()}),this._milliseconds),this}},{key:"clear",value:function(){return clearInterval(this._intervalId),this._intervalId=null,this}},{key:"isRunning",get:function(){return y.exists(this._intervalId)}}]),t}(),X=function(){function t(n){r(this,t),this._milliseconds=n}return u(t,[{key:"onTimeout",value:function(t){return this.clear(),this._didTimeout=t,this}},{key:"start",value:function(){var t=this;return this.clear(),this._timeoutId=setTimeout((function(){t._didTimeout()}),this._milliseconds),this}},{key:"clear",value:function(){return clearTimeout(this._timeoutId),this._timeoutId=null,this}},{key:"isRunning",get:function(){return y.exists(this._timeoutId)}}]),t}();n.AbstractSpecification=K,n.AbstractStrategy=V,n.Assert=y,n.Coord=B,n.DayPoint=A,n.Interval=J,n.Money=I,n.Name=b,n.Point=z,n.Rectangle=G,n.Rolodex=S,n.Timeout=X,n.Vector=L,n.debounce=function(t,n){var e,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var i=arguments.length,u=new Array(i),o=0;o<i;o++)u[o]=arguments[o];var a=r&&!e,s=function(){e=null,r||t.apply(void 0,u)};clearTimeout(e),e=setTimeout(s,n),a&&t.apply(void 0,u)}},n.deduplicate=function(t){return t.reduce((function(t,n){return t.includes(n)||t.push(n),t}),[])},n.identity=U,n.math=C,n.nextTick=function(t){return setTimeout(t,0)},n.regex=H,n.string=g,n.wait=function(t){return new Promise((function(n){return setTimeout(n,t)}))}}(c={path:void 0,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},c.exports),c.exports),l=new Set,y=new Set,d=function(){function t(){e(this,t)}return i(t,null,[{key:"preventScroll",value:function(){try{l.forEach((function(t){return t()}))}catch(n){}t.position=document.body.style.position,t.top=document.body.style.top,t.left=document.body.style.left,t.width=document.body.style.width,t.height=document.body.style.height,t.documentWidth=document.documentElement.style.width,t.documentHeight=document.documentElement.style.height,t.overflowY=document.documentElement.style.overflowY,t.scrollX=window.scrollX||window.pageXOffset,t.scrollY=window.scrollY||window.pageYOffset;var n=t.scrollbarWidth;document.body.style.position="fixed",document.body.style.left="-".concat(t.scrollX,"px"),document.body.style.top="calc(-".concat(t.scrollY,"px - ").concat(window.getComputedStyle(document.body)["padding-top"]," - ").concat(window.getComputedStyle(document.body)["margin-top"],")"),document.body.style.width="calc(100vw - ".concat(n,"px - ").concat(window.getComputedStyle(document.body)["padding-left"]," - ").concat(window.getComputedStyle(document.body)["padding-right"]," - ").concat(window.getComputedStyle(document.body)["margin-left"]," - ").concat(window.getComputedStyle(document.body)["margin-right"],")"),document.body.style.height="calc(100% + 1px)",document.documentElement.style.width="100wh",document.documentElement.style.height="100vh",document.documentElement.style.overflowY=n&&"scroll"}},{key:"resumeScroll",value:function(){try{y.forEach((function(t){return t()}))}catch(t){}document.body.style.position=t.position,document.body.style.top=t.top,document.body.style.left=t.left,document.body.style.width=t.width,document.body.style.height=t.height,document.documentElement.style.width=t.documentWidth,document.documentElement.style.height=t.documentHeight,document.documentElement.style.overflowY=t.overflowY,window.scrollTo(t.scrollX,t.scrollY),t.position=null,t.top=null,t.left=null,t.width=null,t.height=null,t.documentWidth=null,t.documentHeight=null,t.overflowY=null,t.scrollX=null,t.scrollY=null}},{key:"onPreventScroll",value:function(t){l.add(t)}},{key:"onResumeScroll",value:function(t){y.add(t)}},{key:"scrollbarWidth",get:function(){return window.innerWidth-document.documentElement.clientWidth}},{key:"isScrollPrevented",get:function(){return h.Assert.exists(t.scrollY)}}]),t}(),v=function(){function t(){e(this,t)}return i(t,null,[{key:"mute",value:function(t){return!!h.Assert.exists(t)&&(h.Assert.isFunction(t.preventDefault)&&t.preventDefault(),h.Assert.isFunction(t.stopPropagation)&&t.stopPropagation(),h.Assert.isFunction(t.stopImmediatePropagation)&&t.stopImmediatePropagation(),h.Assert.exists(t.cancelBubble)&&(t.cancelBubble=!0),!1)}}]),t}(),k=function(t){return new window.FormData(t)},w=function(t){var n={};try{k(t).forEach((function(t,e){var r=n[e];h.Assert.isArray(r)?n[e].push(t):n[e]=h.Assert.exists(r)?[n[e],t]:t}))}catch(e){o(t.elements).forEach((function(t){var e=t.name,r=t.type,i=t.value;if("file"===r)n[e]=t.files[0];else if("checkbox"===r||"radio"===r)t.checked&&(n[e]=i);else if(t.multiple){var u=[];t.querySelectorAll("option").forEach((function(t){return t.selected&&u.push(t.value)})),n[e]=u.length<2?u[0]:u}else n[e]=i}))}return n},p={read:w,readData:k,readJson:function(t){return JSON.stringify(w(t))},write:function(t,n){t.querySelectorAll("input, textarea").forEach((function(t){h.Assert.exists(n[t.name])&&("checkbox"===t.type||"radio"===t.type?t.checked=n[t.name]===t.value:t.value=n[t.name])})),t.querySelectorAll("select").forEach((function(t){h.Assert.isArray(n[t.name])?o(t.options).forEach((function(e){e.selected=n[t.name].indexOf(e.value)>=0})):h.Assert.exists(n[t.name])&&(t.value=n[t.name])}))}},m=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(this,t),this.key=n,this.msKey=r||n,this.altKey=i.altKey||!1,this.ctrlKey=i.ctrlKey||!1,this.metaKey=i.metaKey||!1,this.shiftKey=i.shiftKey||!1}return i(t,[{key:"equals",value:function(n){return n instanceof t&&this.altKey===n.altKey&&this.ctrlKey===n.ctrlKey&&this.metaKey===n.metaKey&&this.shiftKey===n.shiftKey&&(this.key===n.key||this.msKey===n.msKey)}},{key:"didFire",value:function(n){var e=n.key,r="Dead"===e?n.code:e;return n&&("ANY"===this.key||this.equals(new t(r,r,{altKey:n.altKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,shiftKey:n.shiftKey})))}},{key:"alt",get:function(){return new t(this.key,this.msKey,{altKey:!0,ctrlKey:this.ctrlKey,metaKey:this.metaKey,shiftKey:this.shiftKey})}},{key:"ctrl",get:function(){return new t(this.key,this.msKey,{altKey:this.altKey,ctrlKey:!0,metaKey:this.metaKey,shiftKey:this.shiftKey})}},{key:"meta",get:function(){return new t(this.key,this.msKey,{altKey:this.altKey,ctrlKey:this.ctrlKey,metaKey:!0,shiftKey:this.shiftKey})}},{key:"shift",get:function(){return new t(this.key,this.msKey,{altKey:this.altKey,ctrlKey:this.ctrlKey,metaKey:this.metaKey,shiftKey:!0})}}],[{key:"press",get:function(){return"keypress"}},{key:"down",get:function(){return"keydown"}},{key:"up",get:function(){return"keyup"}},{key:"any",get:function(){return new t("ANY")}},{key:"esc",get:function(){return new t("Escape","Esc")}},{key:"enter",get:function(){return new t("Enter")}},{key:"space",get:function(){return new t(" ","Spacebar")}},{key:"tab",get:function(){return new t("Tab")}},{key:"left",get:function(){return new t("ArrowLeft","Left")}},{key:"right",get:function(){return new t("ArrowRight","Right")}}]),t}(),g=function(){function t(){e(this,t)}return i(t,null,[{key:"on",value:function(t,n,e,r){var i=function(t){return n.didFire(t)?e(t,n):null};return window.addEventListener(t,i,r),{unsubscribe:function(){window.removeEventListener(t,i)}}}},{key:"onKeyPress",value:function(n,e,r){return t.on(m.press,n,e,r)}},{key:"onKeyDown",value:function(n,e,r){return t.on(m.down,n,e,r)}},{key:"onKeyUp",value:function(n,e,r){return t.on(m.up,n,e,r)}}]),t}(),b=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e(this,t),this.didTouchStart=this.didTouchStart.bind(this),this.didTouchEnd=this.didTouchEnd.bind(this),this.didTouchMove=this.didTouchMove.bind(this),n.addEventListener("touchstart",this.didTouchStart,{capture:!1,passive:!0}),n.addEventListener("touchend",this.didTouchEnd,{capture:!1,passive:!0}),n.addEventListener("touchmove",this.didTouchMove,{capture:!1,passive:!0}),this.element=n,this.tolerance=r,this.didSwipeLeft=function(){},this.didSwipeRight=function(){},this.didMove=function(){}}return i(t,[{key:"onLeft",value:function(t){return this.didSwipeLeft=t,this}},{key:"onRight",value:function(t){return this.didSwipeRight=t,this}},{key:"onMove",value:function(t){return this.didMove=t,this}},{key:"destroy",value:function(){var t=this.element;return t.removeEventListener("touchstart",this.didTouchStart,!1),t.removeEventListener("touchend",this.didTouchEnd,!1),t.removeEventListener("touchmove",this.didTouchMove,!1),this}},{key:"didTouchStart",value:function(t){var n=u(t.touches,1)[0];this.touchStartPoint=new h.Point(n.pageX,n.pageY)}},{key:"didTouchEnd",value:function(t){var n=u(t.changedTouches,1)[0],e=this.touchStartPoint,r=new h.Point(n.pageX,n.pageY);r.isLeftOf(e)&&Math.abs(r.distanceFrom(e).x)>this.tolerance&&this.didSwipeLeft(t),r.isRightOf(e)&&Math.abs(r.distanceFrom(e).x)>this.tolerance&&this.didSwipeRight(t)}},{key:"didTouchMove",value:function(t){var n=u(t.touches,1)[0],e=this.touchStartPoint,r=new h.Point(n.pageX,n.pageY);this.didMove({distance:r.distanceFrom(e),up:r.isAbove(e),down:r.isBelow(e),left:r.isLeftOf(e),right:r.isRightOf(e)})}}]),t}();n.Device=f,n.Document=d,n.Event=v,n.Key=m,n.Keyboard=g,n.Swipe=b,n.decodeBase64=function(t){if(!h.Assert.isString(t))throw new Error("Cannot encode non-string values.");return window.atob(t)},n.decodeUtf8=function(t){if(!h.Assert.isString(t))throw new Error("Cannot decode non-string values.");return decodeURIComponent(encodeURIComponent(t))},n.encodeBase64=function(t){if(!h.Assert.isString(t))throw new Error("Cannot encode non-string values.");return window.btoa(t)},n.encodeUtf8=function(t){if(!h.Assert.isString(t))throw new Error("Cannot encode non-string values.");return decodeURIComponent(encodeURIComponent(t))},n.form=p}));class h{constructor(t=""){this.$byteString=t}getByteAt(t){return this.$byteString.charCodeAt(t)}getLength(){return this.$byteString.length}getStringAt(t,n){return this.$byteString.substring(t,t+n)}getShortAt(t,n){const e=this.$byteString,r=e.charCodeAt(t)||0,i=e.charCodeAt(t+1)||0;return n?(r<<8)+i:(i<<8)+r}getLongAt(t,n){const e=this.$byteString,r=e.charCodeAt(t)||0,i=e.charCodeAt(t+1)||0,u=e.charCodeAt(t+2)||0,o=e.charCodeAt(t+3)||0,a=n?(((r<<8)+i<<8)+u<<8)+o:(((o<<8)+u<<8)+i<<8)+r;return a<0?a+4294967296:a}getSLongAt(t,n){const e=this.getLongAt(t,n);return e>2147483647?e-4294967296:e}}class l{static isNull(t){return null===t}static isEmpty(t){return l.isString(t)&&""===t||l.isArray(t)&&t.length<1||l.isObjectLiteral(t)&&Object.keys(t).length<1}static isUndefined(t){return void 0===t}static isZero(t){return 0===t}static exists(t){return!(l.isUndefined(t)||l.isNull(t))}static isNullOrEmpty(t){return!l.exists(t)||l.isEmpty(t)}static isArray(t){return Array.isArray(t)}static isBool(t){return"boolean"==typeof t}static isTrue(t){return l.isBool(t)&&!0===t}static isFalse(t){return l.isBool(t)&&!1===t}static isDate(t){return t instanceof Date}static isNumber(t){return("number"==typeof t||t instanceof Number)&&!isNaN(t)}static isEven(t){return this.isNumber(t)&&!this.isZero(t)&&t%2==0}static isOdd(t){return this.isNumber(t)&&!this.isZero(t)&&!this.isEven(t)}static isString(t){return"string"==typeof t||t instanceof String}static isFunction(t){return t instanceof Function}static isObject(t){return l.exists(t)&&"object"==typeof t&&!(l.isBool(t)||l.isNumber(t)||l.isDate(t)||l.isArray(t)||l.isString(t)||l.isFunction(t))}static isObjectLiteral(t){return l.isObject(t)&&t.constructor==={}.constructor}static isTruthy(t){return!l.isFalsy(t)}static isFalsy(t){return l.isZero(t)||l.isFalse(t)||l.isNullOrEmpty(t)||isNaN(t)}}function y(t){return l.exists(t)&&l.isFunction(t.replace)?t.replace(/^[\s\n]*/,""):t}function d(t){return l.exists(t)&&l.isFunction(t.replace)?t.replace(/[\s\n]*$/,""):t}function v(t,n=0){const e=Math.pow(10,-n);return Math.round(parseFloat((t*e).toFixed(Math.abs(n))))/e}function k(t,n=0){return v(t+5*Math.pow(10,n-1),n)}function w(t,n=0){return 0===t?0:v(t-5*Math.pow(10,n-1),n)}function p(t){const n=(t,e=0,r=1)=>0<t?n(--t,r,e+r):e;return n(t)}function m(t){let n=0,e=1,r=0;for(;t>1;)r=n,n=e,e+=r,t--;return t<1?n:e}Object.freeze({__proto__:null,build:function(...t){return"".concat(...t)},format:function(t,...n){return n.reduce(((t,n,e)=>t.replace(new RegExp(`\\{${e}\\}`,"g"),n.toString())),t)},trim:function(t){return y(d(t))},trimStart:y,trimEnd:d,capitalize:function(t=""){return(t||"").charAt(0).toUpperCase()+(t||"").slice(1).toLowerCase()},mask:function(t,n,e="_"){return t.split("").reduce(((t,n)=>t.replace(new RegExp(e),n)),n)},unmask:function(t,n,e="_"){const r=new RegExp(e);return t.split("").reduce(((t,e,i)=>!r.test(e)&&r.test(n.charAt(i))?t+e:t),"")}}),Object.freeze({__proto__:null,round:v,roundUp:k,roundDown:w,roundTowardZero:function(t,n=0){return t<0?k(t,n):w(t,n)},gcd:function t(n,e){return 0===e?Math.abs(n):t(e,n%e)},fib:p,fib2:m,fibArray:function(t){return Array(t).fill(0).map((()=>p(--t))).reverse()},fib2Array:function(t){return Array(t).fill(0).map((()=>m(--t))).reverse()},tryParseInt:function(t,n=0){const e=parseInt(t);return isNaN(e)?n:e},tryParseFloat:function(t,n=0){const e=parseFloat(t);return isNaN(e)?n:e}}),Object.freeze({__proto__:null,uid:function(){return Math.random().toString().substr(2)},uuid:function(){return function t(n){return n?(n^16*Math.random()>>n/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}}),Object.freeze({__proto__:null,pattern:t=>t.toString().replace(/(^\/)|(\/$)/g,"").replace(/\\/g,"\\"),escape:t=>t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),alpha:/^[A-z]+$/,alphaNumeric:/^[A-z0-9]+$/,base64:/^[A-z0-9=]+$/,dataUrl:/^\s*data:([a-z]+\/[a-z0-9+-]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=._~:@/?%\s-]*\s*$/i,email:/^\w+([.\w-]+)?@\w+([.\w-]+)?\.[A-Za-z0-9]{2,}$/,empty:/^$/,numeric:/^-?[0-9]+$/,script:/(<script[A-z0-9\n\s\t\r.={([\])}'",;!&|$/#:<>*?+\u0000-\u0037\u00C2\u00A0\u2122-]*?<\/script>)/,uid:/^\d{14,}$/i,url:/^(https?:\/\/)?[^{}\\:]+\.[A-z0-9]{2,12}(\/[^?\s]+)*\/?(\?([^=?#]+=[^=?#]*(&[^=?#]+=[^=?#]*)*(#.*)?)?)?$/,uuid:/^[{(]?[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$/i});var g={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},b={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},S={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},A={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"};function P(t,n){if(!function(t,n){return"Exif"===t.getStringAt(n,4)}(t,n))return{};const e=n+6,r=19789===t.getShortAt(e),i=function(t,n,e){return function(t,n,e){return 42===t.getShortAt(n+2,e)||8===t.getLongAt(n+4,e)}(t,n,e)?D(t,n,n+8,A,e):{}}(t,e,r),u=function(t,n,e,r){if(!l.exists(e))return{};const i=D(t,n,n+e,g,r),u={};for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const t=i[o];if(!l.exists(t))continue;switch(o){case"FileSource":i[o]=S[o][t];break;case"FlashpixVersion":i[o]=String.fromCharCode(t[0],t[1],t[2],t[3]);break;case"ComponentsConfiguration":{const n=S.Components;i[o]=n[t[0]]+n[t[1]]+n[t[2]]+n[t[3]];break}}u[o]=i[o]}return u}(t,e,i.ExifIFDPointer,r),o=function(t,n,e,r){if(!l.exists(e))return{};const i=D(t,n,n+e,b,r),u={};for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const t=i[o];if(!l.exists(t))continue;switch(o){case"GPSVersionID":i[o]=`${t[0]}.${t[1]}.${t[2]}.${t[3]}`}u[o]=i[o]}return u}(t,e,i.GPSInfoIFDPointer,r);return Object.assign({},i,u,o)}function D(t,n,e,r,i){const u=t.getShortAt(e,i),o={};let a,s;for(let c=0;c<u;c++)a=e+12*c+2,s=r[t.getShortAt(a,i)]||`UNDEF_Proprietary_data_${e}_${c}`,o[s]=F(t,a,n,0,i);return o}function F(t,n,e,r,i){const u=t.getShortAt(n+2,i),o=t.getLongAt(n+4,i),a=t.getLongAt(n+8,i)+e;let s,c,f,h,l;switch(u){case 2:return s=o>4?a:n+8,t.getStringAt(s,o-1);case 3:if(1===o)return t.getShortAt(n+8,i);for(s=o>2?a:n+8,h=[],l=0;l<o;l++)h[l]=t.getShortAt(s+2*l,i);return h;case 4:if(1===o)return t.getLongAt(n+8,i);for(h=[],l=0;l<o;l++)h[l]=t.getLongAt(a+4*l,i);return h;case 5:if(1===o)return c=t.getLongAt(a,i),f=t.getLongAt(a+4,i),c/f;for(h=[],l=0;l<o;l++)c=t.getLongAt(a+8*l,i),f=t.getLongAt(a+4+8*l,i),h[l]=c/f;return h;case 7:if(1===o)return t.getByteAt(n+8,i);for(s=o>4?a:n+8,h=[],l=0;l<o;l++)h[l]=t.getByteAt(s+l);return h;case 9:if(1===o)return t.getSLongAt(n+8,i);for(h=[],l=0;l<o;l++)h[l]=t.getSLongAt(a+4*l,i);return h;case 10:if(1===o)return t.getSLongAt(a,i)/t.getSLongAt(a+4,i);for(h=[],l=0;l<o;l++)h[l]=t.getSLongAt(a+8*l,i)/t.getSLongAt(a+4+8*l,i);return h;default:return null}}function E(t,n){return 255===t.getByteAt(n)}function M(t){return 225===t}const O={__INVALID_FILE__:"Cannot read EXIF data."};var j=c((function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,n){return(s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=a(t);if(n){var i=a(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return c(this,e)}}function h(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return e}}(t,n)||function(t,n){if(t){if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function t(){r(this,t)}return u(t,null,[{key:"isNull",value:function(t){return null===t}},{key:"isEmpty",value:function(n){return t.isString(n)&&""===n||t.isArray(n)&&n.length<1||t.isObjectLiteral(n)&&Object.keys(n).length<1}},{key:"isUndefined",value:function(t){return void 0===t}},{key:"isZero",value:function(t){return 0===t}},{key:"exists",value:function(n){return!(t.isUndefined(n)||t.isNull(n))}},{key:"isNullOrEmpty",value:function(n){return!t.exists(n)||t.isEmpty(n)}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isBool",value:function(t){return"boolean"==typeof t}},{key:"isTrue",value:function(n){return t.isBool(n)&&!0===n}},{key:"isFalse",value:function(n){return t.isBool(n)&&!1===n}},{key:"isDate",value:function(t){return t instanceof Date}},{key:"isNumber",value:function(t){return("number"==typeof t||t instanceof Number)&&!isNaN(t)}},{key:"isEven",value:function(t){return this.isNumber(t)&&!this.isZero(t)&&t%2==0}},{key:"isOdd",value:function(t){return this.isNumber(t)&&!this.isZero(t)&&!this.isEven(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"isFunction",value:function(t){return t instanceof Function}},{key:"isObject",value:function(n){return t.exists(n)&&"object"===e(n)&&!(t.isBool(n)||t.isNumber(n)||t.isDate(n)||t.isArray(n)||t.isString(n)||t.isFunction(n))}},{key:"isObjectLiteral",value:function(n){return t.isObject(n)&&n.constructor==={}.constructor}},{key:"isTruthy",value:function(n){return!t.isFalsy(n)}},{key:"isFalsy",value:function(n){return t.isZero(n)||t.isFalse(n)||t.isNullOrEmpty(n)||isNaN(n)}}]),t}();function d(){var t;return(t="").concat.apply(t,arguments)}function v(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return e.reduce((function(t,n,e){return t.replace(new RegExp("\\{".concat(e,"\\}"),"g"),n.toString())}),t)}function k(t){return w(p(t))}function w(t){return y.exists(t)&&y.isFunction(t.replace)?t.replace(/^[\s\n]*/,""):t}function p(t){return y.exists(t)&&y.isFunction(t.replace)?t.replace(/[\s\n]*$/,""):t}var m,g=Object.freeze({__proto__:null,build:d,format:v,trim:k,trimStart:w,trimEnd:p,capitalize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(t||"").charAt(0).toUpperCase()+(t||"").slice(1).toLowerCase()},mask:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_";return t.split("").reduce((function(t,n){return t.replace(new RegExp(e),n)}),n)},unmask:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_",r=new RegExp(e);return t.split("").reduce((function(t,e,i){return!r.test(e)&&r.test(n.charAt(i))?t+e:t}),"")}}),b=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(this,t),this._first=n||"",this._middle=e||"",this._last=i||""}return u(t,[{key:"equals",value:function(t){return y.exists(t)&&t.first===this.first&&t.middle===this.middle&&t.last===this.last}},{key:"toString",value:function(t){var n=this.first.charAt(0),e=this.middle.charAt(0),r=this.last.charAt(0);return y.isNullOrEmpty(t)?this.full:t.replace(/([FfMmLl])/g,"{$1}").replace("{F}",this.first).replace("{M}",this.middle).replace("{L}",this.last).replace("{f}",n).replace("{m}",e).replace("{l}",r)}},{key:"first",get:function(){return this._first}},{key:"middle",get:function(){return this._middle}},{key:"last",get:function(){return this._last}},{key:"full",get:function(){var t=y.isNullOrEmpty(this.middle)?"F L":"F M L";return k(this.toString(t).replace(/\s+/," "))}},{key:"initials",get:function(){var t=y.isNullOrEmpty(this.middle)?"f.l.":"f.m.l.";return k(this.toString(t).replace(/\s{2,}/,""))}}]),t}(),S=function(){function t(n){r(this,t),this._list=n,this._head=0}return u(t,[{key:"isEmpty",get:function(){return this.length<1}},{key:"index",get:function(){return this._head}},{key:"length",get:function(){return this._list.length}},{key:"current",get:function(){return this._list[this._head]}},{key:"next",get:function(){var t=this._head;return this._head=t++<this.length-1?t:0,this.current}},{key:"prev",get:function(){var t=this._head;return this._head=--t<0?this.length-1:t,this.current}},{key:"peekNext",get:function(){var t=this._head;return this._list[t+1<this.length?t+1:0]}},{key:"peekPrev",get:function(){var t=this._head;return this._list[t-1<0?this.length-1:t-1]}}]),t}(),A=function(){function t(n,e,i){if(r(this,t),e<1||e>12)throw new Error("Invalid month at Assert.DayPoint");if(i<1||i>P(e,n))throw new Error("Invalid date at DayPoint");this._value=arguments.length>=3?new Date(n,e-1,i):new Date,this._day=this._value.getDay(),this._date=i,this._month=e,this._year=n}return u(t,[{key:"add",value:function(t,n,e){function r(t,n,e){for(var r=t,i=n;i--;)r=r[e];return r}var i=Math.abs,u=i(t),o=i(e),a=i(n),s=e<0?"prevDay":"nextDay",c=n<0?"prevMonth":"nextMonth";return r(r(r(this,u,t<0?"prevYear":"nextYear"),a,c),o,s)}},{key:"isBefore",value:function(t){return!(this.isAfter(t)||this.equals(t))}},{key:"isAfter",value:function(t){var n=this._year,e=t.year,r=this._month,i=t.month;return n>e||n===e&&r>i||n===e&&r===i&&this._date>t.date}},{key:"equals",value:function(t){return this._year===t.year&&this._month===t.month&&this._date===t.date}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mm/dd/yyyy",n=/y{3,}/i.test(t)?this._year:this.shortYear,e=this._month,r=this._date,i="{0}",u=/m{2}/i.test(t)&&e<10?"0{1}":"{1}",o=/d{2}/i.test(t)&&r<10?"0{2}":"{2}",a=t.replace(/y+/gi,i).replace(/m+/gi,u).replace(/d+/gi,o);return v(a,n,e,r)}},{key:"toDate",value:function(){return this._value}},{key:"toJson",value:function(){return this._value.toJSON()}},{key:"value",get:function(){return this._value}},{key:"day",get:function(){return this._day}},{key:"date",get:function(){return this._date}},{key:"month",get:function(){return this._month}},{key:"year",get:function(){return this._year}},{key:"shortYear",get:function(){var t=this._year.toString();return parseInt(t.substr(t.length-2))}},{key:"isWeekday",get:function(){var t=this._day;return t>0&&t<6}},{key:"isWeekend",get:function(){return!this.isWeekday}},{key:"isLeapYear",get:function(){return D(this._year)}},{key:"nextDay",get:function(){return F(this,1,0,0)}},{key:"prevDay",get:function(){return F(this,-1,0,0)}},{key:"nextMonth",get:function(){return F(this,0,1,0)}},{key:"prevMonth",get:function(){return F(this,0,-1,0)}},{key:"nextYear",get:function(){return F(this,0,0,1)}},{key:"prevYear",get:function(){return F(this,0,0,-1)}},{key:"firstDayOfMonth",get:function(){return new t(this._year,this._month,1)}},{key:"lastDayOfMonth",get:function(){return new t(this._year,this._month,P(this._month,this._year))}}],[{key:"canParse",value:function(t){return!!(y.isString(t)||y.isNumber(t)||y.isDate(t))&&!isNaN(new Date(t).valueOf())}},{key:"parse",value:function(n){if(n instanceof t)return n;var e=y.isString(n)?k(n).replace(/T\d{2}:\d{2}:\d{2}(.\d+)?Z/,""):n;if(/^\d{4}-\d{1,2}-\d{1,2}$/.test(e)){var r=e.split("-"),i=h(r,1)[0];r.push(i),r.shift(),e=r.join("/")}var u=new Date(e);if(!y.exists(e)||isNaN(u.valueOf()))throw new Error(v("Cannot parse value= {0}",e));return new t(u.getFullYear(),u.getMonth()+1,u.getDate())}},{key:"tryParse",value:function(n){return t.canParse(n)?t.parse(n):null}},{key:"assumeNow",value:function(n){m=t.parse(n)}},{key:"today",get:function(){return m||t.parse(new Date)}}]),t}();function P(t,n){return 2===t?D(n)?29:28:t<8&&y.isEven(t)||t>7&&y.isOdd(t)?30:31}function D(t){var n=t.toString().split(/\B/);return parseFloat(d(n[n.length-2],n[n.length-1]))%4==0}function F(t,n,e,r){var i=t.month,u=t.year,o=t.date,a=e,s=r,c=o+n,f=i+a,h=u+s;if(o+n>P(i,u)&&(c=1,f=i+a+1),o+n<1){var l=t.prevMonth;c=P(l.month,l.year),f=i+a-1}return f>12&&(f=1,h=u+s+1),f<1&&(f=12,h=u+s-1),new A(h,f,c)}function E(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=Math.pow(10,-n);return Math.round(parseFloat((t*e).toFixed(Math.abs(n))))/e}function M(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=5*Math.pow(10,n-1);return E(t+e,n)}function O(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t)return 0;var e=5*Math.pow(10,n-1);return E(t-e,n)}function j(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t<0?M(t,n):O(t,n)}function x(t){return function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return 0<n?t(--n,r,e+r):e}(t)}function N(t){for(var n=0,e=1,r=0;t>1;)r=n,n=e,e+=r,t--;return t<1?n:e}function _(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=parseInt(t);return isNaN(e)?n:e}var C=Object.freeze({__proto__:null,round:E,roundUp:M,roundDown:O,roundTowardZero:j,gcd:function t(n,e){return 0===e?Math.abs(n):t(e,n%e)},fib:x,fib2:N,fibArray:function(t){return Array(t).fill(0).map((function(){return x(--t)})).reverse()},fib2Array:function(t){return Array(t).fill(0).map((function(){return N(--t)})).reverse()},tryParseInt:_,tryParseFloat:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=parseFloat(t);return isNaN(e)?n:e}}),I=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;if(r(this,t),!y.isNumber(n))throw new Error("Money requires valid numeric amount.");var i=j(n);this._cents=/\./.test(n)?parseFloat(n.toString().replace(/\d+\./,".")):0,this._dollars=i,this._currency=e||"$",this._value=n}return u(t,[{key:"add",value:function(n){return T(this,n),new t(this.value+n.value,this.currency)}},{key:"subtract",value:function(n){return T(this,n),new t(this.value-n.value,this.currency)}},{key:"multiply",value:function(n){if(!y.isNumber(n))throw new Error("Invalid factor ".concat(n));return new t(this.value*n,this.currency)}},{key:"divide",value:function(n){if(!y.isNumber(n))throw new Error("Invalid divisor ".concat(n));return new t(this.value/n,this.currency)}},{key:"equals",value:function(t){return this.isOfCurrency(t)&&this.value===t.value}},{key:"isGreaterThan",value:function(t){return T(this,t),this.value>t.value}},{key:"isLessThan",value:function(t){return T(this,t),this.value<t.value}},{key:"round",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(E(this.value,n),this.currency)}},{key:"roundDown",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(O(this.value,n),this.currency)}},{key:"roundUp",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(M(this.value,n),this.currency)}},{key:"exchange",value:function(n,e){return new t(this.multiply(n).value,e)}},{key:"isOfCurrency",value:function(t){return this.currency===t.currency}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"d.c2",n=/d(.)c(\d+)/.exec(t),e=h(n,3),r=e[1],i=e[2],u={".":",",",":"."}[r],o=R(this.dollars,u),a=$(this.cents,_(i,2)),s="".concat(this.currency).concat(o).concat(r).concat(a);return this.value<0?"(".concat(s,")"):s}},{key:"cents",get:function(){return this._cents}},{key:"dollars",get:function(){return this._dollars}},{key:"currency",get:function(){return this._currency}},{key:"value",get:function(){return this._value}},{key:"nearestWhole",get:function(){return new t(E(this.value,0),this.currency)}},{key:"nearestDollar",get:function(){return this.nearestWhole}}],[{key:"zero",value:function(n){return new t(0,n)}},{key:"isMoney",value:function(n){return n instanceof t}},{key:"canParse",value:function(n){try{return t.parse(n),!0}catch(t){return!1}}},{key:"parse",value:function(n){if(y.isNumber(n))return new t(n);var e=n;if(/,\d{2}$/.test(n)){var r=n.split(","),i=r.pop(),u=r.join().replace(/\./g,",");e="".concat(u,".").concat(i)}var o=/(\(.*\))|(-)/.test(e),a=o?1:0,s=e.match(/[^\d.,-]/g),c=y.isArray(s)?s[a]:null,f=parseFloat(e.replace(/[^\d.]/g,""));return new t(o?-f:f,c)}},{key:"tryParse",value:function(n){return t.canParse(n)?t.parse(n):null}}]),t}();function T(t,n){if(!t.isOfCurrency(n))throw new Error("Invalid operation on non-conforming currencies. ".concat(t.currency," !== ").concat(n.currency))}function R(t,n){if(0===t)return"0";var e=t.toString().replace(/[^\d]/,"").split(/\B/),r=0;return e.reverse().reduce((function(t,e){return r>0&&!(r%3)&&(t.push(n),r=0),t.push(e),r++,t}),[]).reverse().join("").replace(/[^\d]$/,"")}function $(t,n){var e=t.toString().replace(/[^\d]|0\./g,""),r="0".repeat(n);return"".concat(e).concat(r).slice(0,n)}var B=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(r(this,t),!y.isNumber(n)||!y.isNumber(e))throw new Error("Coord requires numeric x and y values");this._x=n,this._y=e}return u(t,[{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"add",value:function(n){return new t(this.x+n.x,this.y+n.y)}},{key:"subtract",value:function(n){return new t(this.x-n.x,this.y-n.y)}},{key:"multiply",value:function(n){return new t(this.x*n.x,this.y*n.y)}},{key:"divide",value:function(n){return new t(this.x/n.x,this.y/n.y)}},{key:"round",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new t(E(this.x,n),E(this.y,n))}},{key:"toString",value:function(){return"(".concat(this.x,",").concat(this.y,")")}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"value",get:function(){return{x:this.x,y:this.y}}},{key:"half",get:function(){return this.divide(new t(2,2))}},{key:"abs",get:function(){return new t(Math.abs(this.x),Math.abs(this.y))}}],[{key:"canParse",value:function(n){return y.isArray(n)?!(isNaN(n[0])||isNaN(n[1])):y.isObjectLiteral(n)&&"x"in n&&"y"in n?!(isNaN(n.x)||isNaN(n.y)):n instanceof t}},{key:"parse",value:function(n){return y.exists(n)?n instanceof t?n:y.isArray(n)?new t(n[0],n[1]):y.isObjectLiteral(n)&&y.exists(n.x)&&y.exists(n.y)?new t(n.x,n.y):null:null}},{key:"tryParse",value:function(n){return t.canParse(n)?t.parse(n):null}}]),t}(),L=function(){o(n,B);var t=f(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r(this,n),(e=t.call(this,i,u))._lengthSquared=Math.pow(i,2)+Math.pow(u,2),e._magnitude=Math.sqrt(e._lengthSquared),e._unitNormalX=0===i&&0===u?0:i/e._magnitude,e._unitNormalY=0===i&&0===u?0:u/e._magnitude,e}return u(n,[{key:"equals",value:function(t){return t instanceof n&&this.x===t.x&&this.y===t.y}},{key:"add",value:function(t){return t instanceof n?new n(this.x+t.x,this.y+t.y):null}},{key:"dot",value:function(t){return t instanceof n?this.x*t.x+this.y*t.y:null}},{key:"perpendicularAtTo",value:function(t){if(!(t instanceof n))return null;var e=t.add(this.projectionOfOnto(t).invert);return new n(e.x,e.y)}},{key:"projectionOfOnto",value:function(t){if(!(t instanceof n))return null;var e=t.normal.scale(this.dot(t.normal));return new n(e.x,e.y)}},{key:"scale",value:function(t){return new n(this.x*t,this.y*t)}},{key:"unitNormalDot",value:function(t){return t instanceof n?this.normal.x*t.normal.x+this.normal.y*t.normal.y:null}},{key:"reflect",value:function(t){if(!(t instanceof n))return null;if(t.isZero)return this;var e=t.normal;return this.add(e.scale(2*e.dot(this)).invert)}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new n(E(this.x,t),E(this.y,t))}},{key:"magnitude",get:function(){return this._magnitude}},{key:"isZero",get:function(){return 0===this.x&&0===this.y}},{key:"normal",get:function(){return new n(this._unitNormalX,this._unitNormalY)}},{key:"invert",get:function(){return new n(-this.x,-this.y)}},{key:"norm",get:function(){return new n(Math.abs(this.x),Math.abs(this.y))}},{key:"perpendicular",get:function(){return new n(-this.y,this.x)}}]),n}(),z=function(){o(n,B);var t=f(n);function n(e,i){return r(this,n),t.call(this,e,i)}return u(n,[{key:"isAbove",value:function(t){return this.y<t.y}},{key:"isBelow",value:function(t){return this.y>t.y}},{key:"isLeftOf",value:function(t){return this.x<t.x}},{key:"isRightOf",value:function(t){return this.x>t.x}},{key:"distanceFrom",value:function(t){return new L(this.x-t.x,this.y-t.y)}},{key:"distanceTo",value:function(t){return this.distanceFrom(t).invert}}],[{key:"canParse",value:function(t){return t instanceof n||B.canParse(t)}},{key:"parse",value:function(t){if(t instanceof n)return t;var e=B.parse(t);return new n(e.x,e.y)}},{key:"tryParse",value:function(t){return n.canParse(t)?n.parse(t):null}}]),n}(),G=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,t),this.origin=new z(n,e),this.dimensions=new B(i,u),this.diagonal=z.parse(this.origin.add(this.dimensions)),this.center=this.diagonal.half}return u(t,[{key:"contains",value:function(t){return this.origin.isAbove(t)&&this.origin.isLeftOf(t)&&this.diagonal.isRightOf(t)&&this.diagonal.isBelow(t)}},{key:"aspectToFit",value:function(n){var e=this.dimensions,r=n.dimensions,i=r.x,u=r.y,o=e.x,a=e.y;return o>a&&0!==o?(a*=i/o,o=i,a>u&&(o*=(a=u)/e.y)):a>u&&(o*=u/a,a=u),new t(this.origin.x,this.origin.y,o,a)}}]),t}(),U=Object.freeze({__proto__:null,uid:function(){return Math.random().toString().substr(2)},uuid:function(){return function t(n){return n?(n^16*Math.random()>>n/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}}),K=function(){function t(){if(r(this,t),this.constructor===t)throw new Error("Cannot instantiate abstract class: AbstractSpecification")}return u(t,[{key:"and",value:function(t){return new q(this,t)}},{key:"or",value:function(t){return new Y(this,t)}},{key:"xor",value:function(t){return new W(this,t)}},{key:"not",value:function(t){return new Z(this,t)}},{key:"isSatisfiedBy",value:function(){throw new Error("Abstract method must be implemented.")}}]),t}(),q=function(){o(n,K);var t=f(n);function n(e,i){var u;return r(this,n),(u=t.call(this))._specificationA=e,u._specificationB=i,u}return u(n,[{key:"isSatisfiedBy",value:function(t){return this._specificationA.isSatisfiedBy(t)&&this._specificationB.isSatisfiedBy(t)}}]),n}(),Y=function(){o(n,K);var t=f(n);function n(e,i){var u;return r(this,n),(u=t.call(this))._specificationA=e,u._specificationB=i,u}return u(n,[{key:"isSatisfiedBy",value:function(t){return this._specificationA.isSatisfiedBy(t)||this._specificationB.isSatisfiedBy(t)}}]),n}(),W=function(){o(n,K);var t=f(n);function n(e,i){var u;return r(this,n),(u=t.call(this))._specificationA=e,u._specificationB=i,u}return u(n,[{key:"isSatisfiedBy",value:function(t){return!this._specificationA.isSatisfiedBy(t)!=!this._specificationB.isSatisfiedBy(t)}}]),n}(),Z=function(){o(n,K);var t=f(n);function n(e){var i;return r(this,n),(i=t.call(this))._specification=e,i}return u(n,[{key:"isSatisfiedBy",value:function(t){return!this._specification.isSatisfiedBy(t)}}]),n}(),V=(function(){o(n,K);var t=f(n);function n(){return r(this,n),t.apply(this,arguments)}u(n,[{key:"isSatisfiedBy",value:function(){return!0}}])}(),function(){o(n,K);var t=f(n);function n(){return r(this,n),t.apply(this,arguments)}u(n,[{key:"isSatisfiedBy",value:function(){return!1}}])}(),function(){function t(){if(r(this,t),this.constructor===t)throw new Error("Cannot instantiate abstract class.")}return u(t,[{key:"execute",value:function(){throw new Error("Abstract method must be implemented.")}}]),t}()),H=Object.freeze({__proto__:null,pattern:function(t){return t.toString().replace(/(^\/)|(\/$)/g,"").replace(/\\/g,"\\")},escape:function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},alpha:/^[A-z]+$/,alphaNumeric:/^[A-z0-9]+$/,base64:/^[A-z0-9=]+$/,dataUrl:/^\s*data:([a-z]+\/[a-z0-9+-]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=._~:@/?%\s-]*\s*$/i,email:/^\w+([.\w-]+)?@\w+([.\w-]+)?\.[A-Za-z0-9]{2,}$/,empty:/^$/,numeric:/^-?[0-9]+$/,script:/(<script[A-z0-9\n\s\t\r.={([\])}'",;!&|$/#:<>*?+\u0000-\u0037\u00C2\u00A0\u2122-]*?<\/script>)/,uid:/^\d{14,}$/i,url:/^(https?:\/\/)?[^{}\\:]+\.[A-z0-9]{2,12}(\/[^?\s]+)*\/?(\?([^=?#]+=[^=?#]*(&[^=?#]+=[^=?#]*)*(#.*)?)?)?$/,uuid:/^[{(]?[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$/i}),J=function(){function t(n){r(this,t),this._milliseconds=n}return u(t,[{key:"onInterval",value:function(t){return this.clear(),this._didInterval=t,this}},{key:"start",value:function(){var t=this;return this.clear(),this._intervalId=setInterval((function(){t._didInterval()}),this._milliseconds),this}},{key:"clear",value:function(){return clearInterval(this._intervalId),this._intervalId=null,this}},{key:"isRunning",get:function(){return y.exists(this._intervalId)}}]),t}(),X=function(){function t(n){r(this,t),this._milliseconds=n}return u(t,[{key:"onTimeout",value:function(t){return this.clear(),this._didTimeout=t,this}},{key:"start",value:function(){var t=this;return this.clear(),this._timeoutId=setTimeout((function(){t._didTimeout()}),this._milliseconds),this}},{key:"clear",value:function(){return clearTimeout(this._timeoutId),this._timeoutId=null,this}},{key:"isRunning",get:function(){return y.exists(this._timeoutId)}}]),t}();n.AbstractSpecification=K,n.AbstractStrategy=V,n.Assert=y,n.Coord=B,n.DayPoint=A,n.Interval=J,n.Money=I,n.Name=b,n.Point=z,n.Rectangle=G,n.Rolodex=S,n.Timeout=X,n.Vector=L,n.debounce=function(t,n){var e,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var i=arguments.length,u=new Array(i),o=0;o<i;o++)u[o]=arguments[o];var a=r&&!e,s=function(){e=null,r||t.apply(void 0,u)};clearTimeout(e),e=setTimeout(s,n),a&&t.apply(void 0,u)}},n.deduplicate=function(t){return t.reduce((function(t,n){return t.includes(n)||t.push(n),t}),[])},n.identity=U,n.math=C,n.nextTick=function(t){return setTimeout(t,0)},n.regex=H,n.string=g,n.wait=function(t){return new Promise((function(n){return setTimeout(n,t)}))}}));function x(t,n){try{return new window.Blob([t],{type:n})}catch(h){var e=window,r=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder;if("TypeError"===h.name&&j.Assert.exists(r)){var i=new r;return i.append(t.buffer),i.getBlob(n)}return"InvalidStateError"===h.name?new window.Blob([t.buffer],{type:n}):null}}function N(t){for(var n=t.split(","),e=n[0].indexOf("base64")>=0?f.decodeBase64(n[1]):decodeURIComponent(n[1]),r=e.length,i=a(n[0].split(":")[1].split(";"),1)[0],u=new Uint8Array(r),o=0;o<r;o++)u[o]=e.charCodeAt(o);return x(u,i)}var _=Object.freeze({__proto__:null,createBlobFromBinaryArray:x,createBlobFromDataUrl:N}),C=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}(a,h);var t,n,r,u=o(a);function a(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,t)}return t=a,r=[{key:"parseDataUrl",value:function(t){var n=t.replace(/data:image\/.*;base64,/,"");return new a(f.decodeBase64(n))}}],(n=[{key:"toBlob",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.$byteString,e=512,r=[],i=0;i<n.length;i+=e){for(var u=n.slice(i,i+e),o=new Array(u.length),a=0;a<u.length;a++)o[a]=u.charCodeAt(a);var s=new Uint8Array(o);r.push(s)}return x(r,t)}}])&&e(t.prototype,n),r&&e(t,r),a}(),I=Object.freeze({__proto__:null,readExifDataInDataUrl:function(t){if(!j.Assert.exists(t))throw new Error("Cannot get exif data for an invalid dataUrl.");return function(t){if(!(t instanceof h))throw new Error("EXIF can only read a valid BinaryFile.");try{return function(t){return l.exists(t)&&255===t.getByteAt(0)&&216===t.getByteAt(1)}(t)?function(t){const n=t.getLength();let e,r=2;for(;r<n;){const n=r+4,i=t.getShortAt(r+2,!0)+2;if(E(t,r)&&(e=t.getByteAt(r+1),M(e)))return P(t,n);r+=i}}(t)||O:(function(t){l.exists(t)&&137===t.getByteAt(0)&&80===t.getByteAt(1)&&78===t.getByteAt(2)&&71===t.getByteAt(3)&&13===t.getByteAt(4)&&10===t.getByteAt(5)&&26===t.getByteAt(6)&&t.getByteAt(7)}(t),O)}catch(t){return console.error(t),O}}(C.parseDataUrl(t))}});function T(t,n){return new Promise((function(e,r){var i=0,u=j.Assert.exists(n)?n:{},o=u.mimeType||"image/*",a=document.createElement("img"),s=/data:image\/.*;base64,/.test(t),c=u.maxAttempts||1;a.onload=function(){var t=u.orientation,n=a.naturalWidth,r=a.naturalHeight,i=new j.Rectangle(0,0,n,r),s=j.Assert.exists(u.resolution)?j.Coord.parse({x:u.resolution.x||n,y:u.resolution.y||r}).value:{x:n,y:r},c=new j.Rectangle(0,0,s.x,s.y),f=i.aspectToFit(c).dimensions,h=f.x,l=f.y,y=6===t||8===t?l:h,d=6===t||8===t?h:l,v=document.createElement("canvas");v.width=y,v.height=d;var k=v.getContext("2d");if(j.Assert.isNumber(t)&&1!==t){var w,p=Math.PI/180;switch(t){case 3:w=180*p;break;case 6:w=90*p;break;case 8:w=-90*p;break;default:w=0}k.translate(y/2,d/2),k.rotate(w),k.drawImage(a,-d/2,-y/2,h,l)}else k.drawImage(a,0,0,h,l);try{var m=v.toDataURL(o,1);e(N(m))}catch(t){var g=v.toDataURL(o,1);e(N(g))}},a.onerror=function(){++i<c?a.src="".concat(t,"?retry=").concat(Math.random().toString().substr(2)):r(new Error("Cannot convert src to blob with src: ".concat(t)))},u.crossOrigin&&!s&&(a.setAttribute("crossOrigin","anonymous"),a.crossorigin="anonymous"),a.src=t}))}function R(t,n){return T(t,n).then((function(n){if(j.Assert.exists(n))return new Promise((function(t,e){var r=new window.FileReader;r.onloadend=function(){return t(r.result)},r.onerror=function(){e(r.error),r.abort()},r.readAsDataURL(n)}));throw new Error("Cannot convert src to dataUrl with src: ".concat(t))}))}var $=Object.freeze({__proto__:null,blobFromSrc:T,dataUrlFromSrc:R,dataUrlFromFile:function(t,n){return new Promise((function(e,r){var i=new window.FileReader;i.onload=function(t){R(t.target.result,n).then((function(t){return e(t)})).catch((function(t){return r(t)}))},i.onerror=function(t){return r(t)},i.readAsDataURL(t)}))},blobFromFile:function(t,n){return new Promise((function(e,r){var i=new window.FileReader;i.onload=function(i){T(i.target.result,n).then((function(n){n.lastModified=t.lastModified,n.lastModifiedDate=t.lastModifiedDate,n.name=t.name,e(n)})).catch((function(t){return r(t)}))},i.onerror=function(t){return r(t)},i.readAsDataURL(t)}))}});n.BinaryFile=C,n.blob=_,n.exif=I,n.image=$}(u={path:undefined,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},u.exports),u.exports);function a(){const{orientation:t}=i;return t===i.landscapePrimary?8:t===i.landscapeSecondary?6:t===i.portraitPrimary?1:t===i.portraitSecondary?3:void 0}const s=class{constructor(n){t(this,n),this.handleChange=this.handleChange.bind(this)}orientationHandler(){this.orient(this.orientation)}async read(){return this.input.files}handleChange(){let t;this.status="loading",t=r.exists(this.orientation)?this.orientation:"portrait"===this.capture?a():"landscape"===this.capture?void 0:i.orientation===i.portraitPrimary?a():void 0,this.orient(t)}orient(t){o.image.dataUrlFromFile(this.input.files[0],{crossDomain:!0,resolution:{x:this.resolutionX,y:this.resolutionY},orientation:t}).then((t=>{this.currentSrc=t,this.status="loaded"})).catch((()=>{this.status="error",this.currentSrc=null}))}componentWillLoad(){this.input=document.getElementById(this.for),this.input.addEventListener("change",this.handleChange)}disconnectedCallback(){this.input.removeEventListener("change",this.handleChange)}render(){return n(e,null,n("img",{src:this.currentSrc||this.src,alt:this.alt||"preview image"}),n("slot",null))}static get watchers(){return{orientation:["orientationHandler"]}}};s.style=":host{position:relative;display:block;width:200px;height:120px;border:solid 2px #aaa;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-o-object-fit:cover;object-fit:cover}img{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit}::slotted(*){position:relative}";export{s as ku4_preview}