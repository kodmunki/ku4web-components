import{r as t,h as i,g as s}from"./p-79178bbf.js";import{a as h}from"./p-02741fa9.js";const n=class{constructor(i){t(this,i),this.expression=".*"}async validate(){return this.handleBlur(),this.isValid}handleInput(){const{ele:t,input:i,isValid:s,regex:n}=this;h.isFalse(s)&&(this.isValid=t?t.value===i.value:n.test(i.value),this.setValidAttribute())}handleBlur(){const{ele:t,input:i,regex:s}=this;this.isValid=t?t.value===i.value:s.test(i.value),this.setValidAttribute()}setValidAttribute(){this.isValid?(this.host.setAttribute("valid",""),this.host.removeAttribute("invalid")):(this.host.setAttribute("invalid",""),this.host.removeAttribute("valid"))}componentWillLoad(){this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.input=document.getElementById(this.for),this.ele=document.querySelector(this.element),this.regex=new RegExp(this.expression),this.input.addEventListener("blur",this.handleBlur),this.input.addEventListener("input",this.handleInput)}componentDidUnload(){this.input.removeEventListener("blur",this.handleBlur),this.input.removeEventListener("input",this.handleInput)}render(){return i("slot",null)}get host(){return s(this)}static get style(){return":host{visibility:hidden !important}:host([invalid]){visibility:visible !important}"}};export{n as ku4_validation};