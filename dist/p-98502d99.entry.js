import{r as a,c as t,h as o,H as n,g as i}from"./p-80e7f1ae.js";import{t as r}from"./p-ce48150b.js";import{r as e,l as s}from"./p-deb70f68.js";const m=class{constructor(o){a(this,o),this.displayed=t(this,"ku4ModalDisplay",7),this.dismissed=t(this,"ku4ModalDismiss",7),this.visible=!1}handleVisibility(a){a?(e.preventScroll(),r.exists(this.trap)&&this.trap.activate()):(e.resumeScroll(),r.exists(this.trap)&&this.trap.deactivate())}handleKeyUp(a){this.visible&&s.esc.didFire(a)&&this.dismiss()}async display(){this.visible=!0,this.displayed.emit(this)}async dismiss(){this.visible=!1,this.dismissed.emit(this)}componentDidLoad(){try{this.trap=this.host.querySelector("ku4-focus-trap")||document.querySelector(this.focusTrap)}catch(a){throw new Error("Cannot connect ku4-focus-trap: "+a.messsage)}}render(){return o(n,{"aria-modal":"true"},o("section",{class:"ku4-modal-content"},o("slot",null)),o("section",{class:"ku4-modal-overlay",onClick:()=>this.dismiss(),"aria-hidden":"true"}))}get host(){return i(this)}static get watchers(){return{visible:["handleVisibility"]}}};m.style="@keyframes ku4-modal-content-enter{0%{transform:var(--ku4-modal-content-animation-start-transform, scale(0.5));opacity:var(--ku4-modal-content-animation-start-opacity, 0)}50%{transform:var(--ku4-modal-content-animation-mid-transform, scale(1.2));opacity:var(--ku4-modal-content-animation-mid-opacity, 0.8)}100%{transform:var(--ku4-modal-content-animation-end-transform, scale(1));opacity:var(--ku4-modal-content-animation-end-opacity, 1)}}@keyframes ku4-modal-overlay-enter{0%{transform:var(--ku4-modal-overlay-animation-start-transform, none);opacity:var(--ku4-modal-overlay-animation-start-opacity, 0)}50%{transform:var(--ku4-modal-overlay-animation-mid-transform, none);opacity:var(--ku4-modal-overlay-animation-mid-opacity, 0.35)}100%{transform:var(--ku4-modal-overlay-animation-end-transform, none);opacity:var(--ku4-modal-overlay-animation-end-opacity, 0.4)}}:host{position:fixed;display:none;top:0;left:0;width:100vw;height:100vh;justify-content:center;align-items:center;background:transparent;overflow:auto;transform-style:var(--ku4-modal-transform-style, initial)}.ku4-modal-content{position:relative;top:0;left:0}.ku4-modal-overlay{position:fixed;display:flex;top:0;left:0;width:100%;height:100%;opacity:0;background:var(--ku4-modal-overlay-background, #000)}:host([visible]){display:flex;z-index:var(--ku4-modal-z-index, 5)}:host([visible]) .ku4-modal-content{animation-name:ku4-modal-content-enter;animation-duration:var(--ku4-modal-content-animation-duration, 0.4s);animation-timing-function:var(--ku4-modal-content-animation-timing-function, ease);transform:var(--ku4-modal-content-transform, none);opacity:var(--ku4-modal-content-opacity, 1);z-index:calc(var(--ku4-modal-z-index, 5) + 1)}:host([visible]) .ku4-modal-overlay{animation-name:ku4-modal-overlay-enter;animation-duration:var(--ku4-modal-overlay-animation-duration, 0.4s);animation-timing-function:var(--ku4-modal-overlay-animation-timing-function, ease);transform:var(--ku4-modal-overlay-transform, none);opacity:var(--ku4-modal-overlay-opacity, 0.4);z-index:calc(var(--ku4-modal-z-index, 5))}:host([visible=false]){display:none}";export{m as ku4_modal}