import{r as t,h as s,g as r}from"./p-e9311a05.js";const o=class{constructor(s){t(this,s)}async validate(){const{fields:t}=this,s=t.map(t=>t.validate());return Promise.all(s).then(t=>!t.some(t=>!1===t))}get form(){return this.host.querySelector("form")}get fields(){return[].slice.call(this.form.querySelectorAll("ku4-validation"))}submit(){const{form:t}=this;this.validate().then(s=>s&&t.submit())}componentWillLoad(){const{form:t}=this,s=t.onsubmit||(()=>{});t.onsubmit=r=>(r.preventDefault(),this.submit(),s.call(t,r),!1)}render(){return s("slot",null)}get host(){return r(this)}};export{o as ku4_form}