import{r as t,h as s,g as i}from"./p-3608152c.js";import{a as h}from"./p-02741fa9.js";const n=class{constructor(s){t(this,s),this.expression=".*"}async validate(){return this.assert()}handleInput(){return h.isFalse(this.isValid)&&this.assert()}handleBlur(){return this.assert()}assert(){const{ele:t,validOptions:s,input:i,regex:h}=this;return this.isValid=s?s.some(t=>t===i.value)&&h.test(i.value):t?t.value===i.value&&h.test(i.value):h.test(i.value),this.invalid=!this.isValid,this.isValid}componentWillLoad(){this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.input=document.getElementById(this.for),this.ele=document.getElementById(this.element)||document.querySelector(this.element),this.validOptions=h.exists(this.values)?this.values.split(","):this.ele&&"DATALIST"===this.ele.nodeName&&[].slice.call(this.ele.querySelectorAll("option")).map(t=>t.value),this.regex=new RegExp(this.expression),this.input.addEventListener("blur",this.handleBlur),this.input.addEventListener("input",this.handleInput)}componentDidUnload(){this.input.removeEventListener("blur",this.handleBlur),this.input.removeEventListener("input",this.handleInput)}render(){return s("slot",null)}get host(){return i(this)}static get style(){return":host{visibility:hidden !important}:host([invalid]){visibility:visible !important}"}};export{n as ku4_validation};