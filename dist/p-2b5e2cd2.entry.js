import{r as t,h as s,g as r}from"./p-e9e46805.js";import{t as o}from"./p-545305c8.js";const e=class{constructor(s){t(this,s)}async validate(){const{fields:t}=this,s=t.map(t=>t.validate());return Promise.all(s).then(t=>!t.some(t=>!1===t))}get form(){return this.host.querySelector("form")}get fields(){return[].slice.call(this.form.querySelectorAll("ku4-validation"))}submit(){const{form:t}=this;this.validate().then(s=>s&&t.submit())}componentWillLoad(){const{form:t}=this,s=t.onsubmit||(()=>{});t.onsubmit=r=>{r.preventDefault();const e=s.call(t,r);return o.isFalse(e)||this.submit(),!1}}render(){return s("slot",null)}get host(){return r(this)}};export{e as ku4_form}