import{r as t,h as i,H as s,g as h}from"./p-79178bbf.js";import{a as n}from"./p-02741fa9.js";const a=class{constructor(i){t(this,i),this.expression=".*"}async validate(){this.handleBlur()}handleInput(){const{ele:t,input:i,isValid:s,regex:h}=this;s||(this.isValid=t?t.value===i.value:h.test(i.value),this.setValidAttribute())}handleBlur(){const{ele:t,input:i,regex:s}=this;this.isValid=t?t.value===i.value:s.test(i.value),this.setValidAttribute()}setValidAttribute(){this.isValid?(this.host.setAttribute("valid",""),this.host.removeAttribute("invalid")):(this.host.setAttribute("invalid",""),this.host.removeAttribute("valid"))}componentWillLoad(){this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.input=document.getElementById(this.for),this.ele=document.querySelector(this.element),this.regex=new RegExp(this.expression),this.input.addEventListener("blur",this.handleBlur),this.input.addEventListener("input",this.handleInput)}componentDidUnload(){this.input.removeEventListener("blur",this.handleBlur),this.input.removeEventListener("input",this.handleInput)}render(){return i(s,{class:`${n.isFalse(this.isValid)?"invalid":""}`},i("slot",null))}get host(){return h(this)}static get style(){return":host{visibility:hidden !important}:host(.invalid){visibility:visible !important}"}};export{a as ku4_validation};