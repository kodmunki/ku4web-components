class t{static isNull(t){return null===t}static isEmpty(s){return t.isString(s)&&""===s||t.isArray(s)&&s.length<1||t.isObjectLiteral(s)&&Object.keys(s).length<1}static isUndefined(t){return void 0===t}static isZero(t){return 0===t}static exists(s){return!(t.isUndefined(s)||t.isNull(s))}static isNullOrEmpty(s){return!t.exists(s)||t.isEmpty(s)}static isArray(t){return Array.isArray(t)}static isBool(t){return"boolean"==typeof t}static isTrue(s){return t.isBool(s)&&!0===s}static isFalse(s){return t.isBool(s)&&!1===s}static isDate(t){return t instanceof Date}static isNumber(t){return("number"==typeof t||t instanceof Number)&&!isNaN(t)}static isEven(t){return this.isNumber(t)&&!this.isZero(t)&&t%2==0}static isOdd(t){return this.isNumber(t)&&!this.isZero(t)&&!this.isEven(t)}static isString(t){return"string"==typeof t||t instanceof String}static isFunction(t){return t instanceof Function}static isObject(s){return t.exists(s)&&"object"==typeof s&&!(t.isBool(s)||t.isNumber(s)||t.isDate(s)||t.isArray(s)||t.isString(s)||t.isFunction(s))}static isObjectLiteral(s){return t.isObject(s)&&s.constructor==={}.constructor}static isTruthy(s){return!t.isFalsy(s)}static isFalsy(s){return t.isZero(s)||t.isFalse(s)||t.isNullOrEmpty(s)||isNaN(s)}}function s(t,s,e="_"){return t.split("").reduce((t,s)=>t.replace(new RegExp(e),s),s)}function e(t,s,e="_"){const r=new RegExp(e);return t.split("").reduce((t,e,i)=>!r.test(e)&&r.test(s.charAt(i))?t+e:t,"")}var r=t=>t.reduce((t,s)=>(t.includes(s)||t.push(s),t),[]);class i{constructor(t){this._list=t,this._head=0}get isEmpty(){return this.length<1}get index(){return this._head}get length(){return this._list.length}get current(){return this._list[this._head]}get next(){const{length:t}=this;let{_head:s}=this;return this._head=s++<t-1?s:0,this.current}get prev(){const{length:t}=this;let{_head:s}=this;return this._head=--s<0?t-1:s,this.current}get peekNext(){const{_head:t,length:s}=this;return this._list[t+1<s?t+1:0]}get peekPrev(){const{_head:t,length:s}=this;return this._list[t-1<0?s-1:t-1]}}function n(t,s=0){const e=Math.pow(10,-s);return Math.round(parseFloat((t*e).toFixed(Math.abs(s))))/e}class u{constructor(s=0,e=0){if(!t.isNumber(s)||!t.isNumber(e))throw new Error("Coord requires numeric x and y values");this._x=s,this._y=e}get x(){return this._x}get y(){return this._y}get value(){return{x:this.x,y:this.y}}get half(){return this.divide(new u(2,2))}get abs(){return new u(Math.abs(this.x),Math.abs(this.y))}equals(t){return this.x===t.x&&this.y===t.y}add(t){return new u(this.x+t.x,this.y+t.y)}subtract(t){return new u(this.x-t.x,this.y-t.y)}multiply(t){return new u(this.x*t.x,this.y*t.y)}divide(t){return new u(this.x/t.x,this.y/t.y)}round(t=0){return new u(n(this.x,t),n(this.y,t))}toString(){return`(${this.x},${this.y})`}static canParse(s){return t.isArray(s)?!(isNaN(s[0])||isNaN(s[1])):t.isObjectLiteral(s)&&"x"in s&&"y"in s?!(isNaN(s.x)||isNaN(s.y)):s instanceof u}static parse(s){return t.exists(s)?s instanceof u?s:t.isArray(s)?new u(s[0],s[1]):t.isObjectLiteral(s)&&t.exists(s.x)&&t.exists(s.y)?new u(s.x,s.y):null:null}static tryParse(t){return u.canParse(t)?u.parse(t):null}}class h extends u{constructor(t=0,s=0){super(t,s),this._lengthSquared=Math.pow(t,2)+Math.pow(s,2),this._magnitude=Math.sqrt(this._lengthSquared),this._unitNormalX=0===t&&0===s?0:t/this._magnitude,this._unitNormalY=0===t&&0===s?0:s/this._magnitude}get magnitude(){return this._magnitude}get isZero(){return 0===this.x&&0===this.y}get normal(){return new h(this._unitNormalX,this._unitNormalY)}get invert(){return new h(-this.x,-this.y)}get norm(){return new h(Math.abs(this.x),Math.abs(this.y))}get perpendicular(){return new h(-this.y,this.x)}equals(t){return t instanceof h&&this.x===t.x&&this.y===t.y}add(t){return t instanceof h?new h(this.x+t.x,this.y+t.y):null}dot(t){return t instanceof h?this.x*t.x+this.y*t.y:null}perpendicularAtTo(t){if(!(t instanceof h))return null;const s=t.add(this.projectionOfOnto(t).invert);return new h(s.x,s.y)}projectionOfOnto(t){if(!(t instanceof h))return null;const s=t.normal.scale(this.dot(t.normal));return new h(s.x,s.y)}scale(t){return new h(this.x*t,this.y*t)}unitNormalDot(t){return t instanceof h?this.normal.x*t.normal.x+this.normal.y*t.normal.y:null}reflect(t){if(!(t instanceof h))return null;if(t.isZero)return this;const s=t.normal;return this.add(s.scale(2*s.dot(this)).invert)}round(t=0){return new h(n(this.x,t),n(this.y,t))}}class a extends u{constructor(t,s){super(t,s)}isAbove(t){return this.y<t.y}isBelow(t){return this.y>t.y}isLeftOf(t){return this.x<t.x}isRightOf(t){return this.x>t.x}distanceFrom(t){return new h(this.x-t.x,this.y-t.y)}distanceTo(t){return this.distanceFrom(t).invert}static canParse(t){return t instanceof a||u.canParse(t)}static parse(t){if(t instanceof a)return t;const s=u.parse(t);return new a(s.x,s.y)}static tryParse(t){return a.canParse(t)?a.parse(t):null}}class c{constructor(t=0,s=0,e=0,r=0){this.origin=new a(t,s),this.dimensions=new u(e,r),this.diagonal=a.parse(this.origin.add(this.dimensions)),this.center=this.diagonal.half}contains(t){return this.origin.isAbove(t)&&this.origin.isLeftOf(t)&&this.diagonal.isRightOf(t)&&this.diagonal.isBelow(t)}aspectToFit(t){const s=this.dimensions,e=t.dimensions,r=e.x,i=e.y;let n=s.x,u=s.y;return n>u&&0!==n?(u*=r/n,n=r,u>i&&(u=i,n*=u/s.y)):u>i&&(n*=i/u,u=i),new c(this.origin.x,this.origin.y,n,u)}}function o(){return Math.random().toString().substr(2)}var l=(t,s,e=!1)=>{let r;return(...i)=>{const n=e&&!r;clearTimeout(r),r=setTimeout(()=>{r=null,e||t(...i)},s),n&&t(...i)}};Object.freeze({__proto__:null,pattern:t=>t.toString().replace(/(^\/)|(\/$)/g,"").replace(/\\/g,"\\"),escape:t=>t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),alpha:/^[A-z]+$/,alphaNumeric:/^[A-z0-9]+$/,base64:/^[A-z0-9=]+$/,dataUrl:/^\s*data:([a-z]+\/[a-z0-9+-]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=._~:@/?%\s-]*\s*$/i,email:/^\w+([.\w-]+)?@\w+([.\w-]+)?\.[A-Za-z0-9]{2,}$/,empty:/^$/,numeric:/^-?[0-9]+$/,script:/(<script[A-z0-9\n\s\t\r.={([\])}'",;!&|$/#:<>*?+\u0000-\u0037\u00C2\u00A0\u2122-]*?<\/script>)/,uid:/^\d{14,}$/i,url:/^(https?:\/\/)?[^{}\\:]+\.[A-z0-9]{2,12}(\/[^?\s]+)*\/?(\?([^=?#]+=[^=?#]*(&[^=?#]+=[^=?#]*)*(#.*)?)?)?$/,uuid:/^[{(]?[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$/i});class g{constructor(t){this._milliseconds=t}get isRunning(){return!!this._timeoutId}onTimeout(t){return this._didTimeout=t,this}start(){return this._timeoutId||(this._timeoutId=setTimeout(()=>{this._didTimeout(),this._timeoutId=null},this._milliseconds)),this}clear(){return this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this}}var f=t=>new Promise(s=>setTimeout(s,t));export{c as B,o as E,l as L,g as Y,f as Z,r as h,i as l,e as o,t,s as u}