var __extends=this&&this.__extends||function(){var t=function(e,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]};return t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r};var t=function(){function t(){}t.isNull=function(t){return null===t};t.isEmpty=function(e){return t.isString(e)&&""===e||t.isArray(e)&&e.length<1||t.isObjectLiteral(e)&&Object.keys(e).length<1};t.isUndefined=function(t){return void 0===t};t.isZero=function(t){return 0===t};t.exists=function(e){return!(t.isUndefined(e)||t.isNull(e))};t.isNullOrEmpty=function(e){return!t.exists(e)||t.isEmpty(e)};t.isArray=function(t){return Array.isArray(t)};t.isBool=function(t){return"boolean"==typeof t};t.isTrue=function(e){return t.isBool(e)&&!0===e};t.isFalse=function(e){return t.isBool(e)&&!1===e};t.isDate=function(t){return t instanceof Date};t.isNumber=function(t){return("number"==typeof t||t instanceof Number)&&!isNaN(t)};t.isEven=function(t){return this.isNumber(t)&&!this.isZero(t)&&t%2==0};t.isOdd=function(t){return this.isNumber(t)&&!this.isZero(t)&&!this.isEven(t)};t.isString=function(t){return"string"==typeof t||t instanceof String};t.isFunction=function(t){return t instanceof Function};t.isObject=function(e){return t.exists(e)&&"object"==typeof e&&!(t.isBool(e)||t.isNumber(e)||t.isDate(e)||t.isArray(e)||t.isString(e)||t.isFunction(e))};t.isObjectLiteral=function(e){return t.isObject(e)&&e.constructor==={}.constructor};t.isTruthy=function(e){return!t.isFalsy(e)};t.isFalsy=function(e){return t.isZero(e)||t.isFalse(e)||t.isNullOrEmpty(e)||isNaN(e)};return t}();function e(t,e){if(e===void 0){e=0}var n=Math.pow(10,-e);return Math.round(parseFloat((t*n).toFixed(Math.abs(e))))/n}var i=function(){function n(e,n){if(e===void 0){e=0}if(n===void 0){n=0}if(!t.isNumber(e)||!t.isNumber(n))throw new Error("Coord requires numeric x and y values");this._x=e,this._y=n}Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"value",{get:function(){return{x:this.x,y:this.y}},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"half",{get:function(){return this.divide(new n(2,2))},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"abs",{get:function(){return new n(Math.abs(this.x),Math.abs(this.y))},enumerable:false,configurable:true});n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y};n.prototype.add=function(t){return new n(this.x+t.x,this.y+t.y)};n.prototype.subtract=function(t){return new n(this.x-t.x,this.y-t.y)};n.prototype.multiply=function(t){return new n(this.x*t.x,this.y*t.y)};n.prototype.divide=function(t){return new n(this.x/t.x,this.y/t.y)};n.prototype.round=function(t){if(t===void 0){t=0}return new n(e(this.x,t),e(this.y,t))};n.prototype.toString=function(){return"("+this.x+","+this.y+")"};n.canParse=function(e){return t.isArray(e)?!(isNaN(e[0])||isNaN(e[1])):t.isObjectLiteral(e)&&"x"in e&&"y"in e?!(isNaN(e.x)||isNaN(e.y)):e instanceof n};n.parse=function(e){return t.exists(e)?e instanceof n?e:t.isArray(e)?new n(e[0],e[1]):t.isObjectLiteral(e)&&t.exists(e.x)&&t.exists(e.y)?new n(e.x,e.y):null:null};n.tryParse=function(t){return n.canParse(t)?n.parse(t):null};return n}();var s=function(t){__extends(n,t);function n(e,n){if(e===void 0){e=0}if(n===void 0){n=0}var r=this;r=t.call(this,e,n)||this,r._lengthSquared=Math.pow(e,2)+Math.pow(n,2),r._magnitude=Math.sqrt(r._lengthSquared),r._unitNormalX=0===e&&0===n?0:e/r._magnitude,r._unitNormalY=0===e&&0===n?0:n/r._magnitude;return r}Object.defineProperty(n.prototype,"magnitude",{get:function(){return this._magnitude},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"isZero",{get:function(){return 0===this.x&&0===this.y},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"normal",{get:function(){return new n(this._unitNormalX,this._unitNormalY)},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"invert",{get:function(){return new n(-this.x,-this.y)},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"norm",{get:function(){return new n(Math.abs(this.x),Math.abs(this.y))},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"perpendicular",{get:function(){return new n(-this.y,this.x)},enumerable:false,configurable:true});n.prototype.equals=function(t){return t instanceof n&&this.x===t.x&&this.y===t.y};n.prototype.add=function(t){return t instanceof n?new n(this.x+t.x,this.y+t.y):null};n.prototype.dot=function(t){return t instanceof n?this.x*t.x+this.y*t.y:null};n.prototype.perpendicularAtTo=function(t){if(!(t instanceof n))return null;var e=t.add(this.projectionOfOnto(t).invert);return new n(e.x,e.y)};n.prototype.projectionOfOnto=function(t){if(!(t instanceof n))return null;var e=t.normal.scale(this.dot(t.normal));return new n(e.x,e.y)};n.prototype.scale=function(t){return new n(this.x*t,this.y*t)};n.prototype.unitNormalDot=function(t){return t instanceof n?this.normal.x*t.normal.x+this.normal.y*t.normal.y:null};n.prototype.reflect=function(t){if(!(t instanceof n))return null;if(t.isZero)return this;var e=t.normal;return this.add(e.scale(2*e.dot(this)).invert)};n.prototype.round=function(t){if(t===void 0){t=0}return new n(e(this.x,t),e(this.y,t))};return n}(i);var n=function(t){__extends(e,t);function e(e,n){return t.call(this,e,n)||this}e.prototype.isAbove=function(t){return this.y<t.y};e.prototype.isBelow=function(t){return this.y>t.y};e.prototype.isLeftOf=function(t){return this.x<t.x};e.prototype.isRightOf=function(t){return this.x>t.x};e.prototype.distanceFrom=function(t){return new s(this.x-t.x,this.y-t.y)};e.prototype.distanceTo=function(t){return this.distanceFrom(t).invert};e.canParse=function(t){return t instanceof e||i.canParse(t)};e.parse=function(t){if(t instanceof e)return t;var n=i.parse(t);return new e(n.x,n.y)};e.tryParse=function(t){return e.canParse(t)?e.parse(t):null};return e}(i);Object.freeze({__proto__:null,pattern:function(t){return t.toString().replace(/(^\/)|(\/$)/g,"").replace(/\\/g,"\\")},escape:function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},alpha:/^[A-z]+$/,alphaNumeric:/^[A-z0-9]+$/,base64:/^[A-z0-9=]+$/,dataUrl:/^\s*data:([a-z]+\/[a-z0-9+-]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=._~:@/?%\s-]*\s*$/i,email:/^\w+([.\w-]+)?@\w+([.\w-]+)?\.[A-Za-z0-9]{2,}$/,empty:/^$/,numeric:/^-?[0-9]+$/,script:/(<script[A-z0-9\n\s\t\r.={([\])}'",;!&|$/#:<>*?+\u0000-\u0037\u00C2\u00A0\u2122-]*?<\/script>)/,uid:/^\d{14,}$/i,url:/^(https?:\/\/)?[^{}\\:]+\.[A-z0-9]{2,12}(\/[^?\s]+)*\/?(\?([^=?#]+=[^=?#]*(&[^=?#]+=[^=?#]*)*(#.*)?)?)?$/,uuid:/^[{(]?[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$/i});var r=function(){function e(){}Object.defineProperty(e,"scrollbarWidth",{get:function(){return window.innerWidth-document.documentElement.clientWidth},enumerable:false,configurable:true});Object.defineProperty(e,"isScrollPrevented",{get:function(){return t.exists(e.scrollY)},enumerable:false,configurable:true});e.preventScroll=function(){e.position=document.body.style.position,e.top=document.body.style.top,e.left=document.body.style.left,e.width=document.body.style.width,e.height=document.body.style.height,e.documentWidth=document.documentElement.style.width,e.documentHeight=document.documentElement.style.height,e.overflowY=document.documentElement.style.overflowY,e.scrollX=window.scrollX||window.pageXOffset,e.scrollY=window.scrollY||window.pageYOffset;var t=e.scrollbarWidth;document.body.style.position="fixed",document.body.style.left="-"+e.scrollX+"px",document.body.style.top="-"+e.scrollY+"px",document.body.style.width="calc(100vw - "+t+"px - "+window.getComputedStyle(document.body)["padding-left"]+" - "+window.getComputedStyle(document.body)["padding-right"]+")",document.body.style.height="calc(100% + 1px)",document.documentElement.style.width="100wh",document.documentElement.style.height="100vh",document.documentElement.style.overflowY=t&&"scroll"};e.resumeScroll=function(){document.body.style.position=e.position,document.body.style.top=e.top,document.body.style.left=e.left,document.body.style.width=e.width,document.body.style.height=e.height,document.documentElement.style.width=e.documentWidth,document.documentElement.style.height=e.documentHeight,document.documentElement.style.overflowY=e.overflowY,window.scrollTo(e.scrollX,e.scrollY),e.position=null,e.top=null,e.left=null,e.width=null,e.height=null,e.documentWidth=null,e.documentHeight=null,e.overflowY=null,e.scrollX=null,e.scrollY=null};return e}();var o=function(){function e(){}e.mute=function(e){return!!t.exists(e)&&(t.isFunction(e.preventDefault)&&e.preventDefault(),t.isFunction(e.stopPropagation)&&e.stopPropagation(),t.isFunction(e.stopImmediatePropagation)&&e.stopImmediatePropagation(),t.exists(e.cancelBubble)&&(e.cancelBubble=!0),!1)};return e}();var a=function(t){return new window.FormData(t)},c=function(e){var n={};return a(e).forEach((function(e,r){var i=n[r];t.isArray(i)?n[r].push(e):t.exists(i)?n[r]=[n[r],e]:n[r]=e})),n};var u={read:c,readData:a,readJson:function(t){return JSON.stringify(c(t))},write:function(e,n){e.querySelectorAll("input, textarea").forEach((function(e){t.exists(n[e.name])&&("checkbox"===e.type||"radio"===e.type?e.checked=n[e.name]===e.value:e.value=n[e.name])})),e.querySelectorAll("select").forEach((function(e){t.isArray(n[e.name])?__spreadArrays(e.options).forEach((function(t){t.selected=n[e.name].indexOf(t.value)>=0})):t.exists(n[e.name])&&(e.value=n[e.name])}))}};var l=function(){function t(t,e,n){if(n===void 0){n={}}this.key=t,this.msKey=e||t,this.altKey=n.altKey||!1,this.ctrlKey=n.ctrlKey||!1,this.metaKey=n.metaKey||!1,this.shiftKey=n.shiftKey||!1}Object.defineProperty(t.prototype,"alt",{get:function(){var e=this,n=e.key,r=e.msKey,i=e.ctrlKey,o=e.metaKey,u=e.shiftKey;return new t(n,r,{altKey:!0,ctrlKey:i,metaKey:o,shiftKey:u})},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"ctrl",{get:function(){var e=this,n=e.key,r=e.msKey,i=e.altKey,o=e.metaKey,u=e.shiftKey;return new t(n,r,{altKey:i,ctrlKey:!0,metaKey:o,shiftKey:u})},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"meta",{get:function(){var e=this,n=e.key,r=e.msKey,i=e.altKey,o=e.ctrlKey,u=e.shiftKey;return new t(n,r,{altKey:i,ctrlKey:o,metaKey:!0,shiftKey:u})},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"shift",{get:function(){var e=this,n=e.key,r=e.msKey,i=e.altKey,o=e.ctrlKey,u=e.metaKey;return new t(n,r,{altKey:i,ctrlKey:o,metaKey:u,shiftKey:!0})},enumerable:false,configurable:true});t.prototype.equals=function(e){return e instanceof t&&this.altKey===e.altKey&&this.ctrlKey===e.ctrlKey&&this.metaKey===e.metaKey&&this.shiftKey===e.shiftKey&&(this.key===e.key||this.msKey===e.msKey)};t.prototype.didFire=function(e){var n=e.code,r=e.key,i=e.altKey,o=e.ctrlKey,u=e.metaKey,s=e.shiftKey,a="Dead"===r?n:r;return e&&("ANY"===this.key||this.equals(new t(a,a,{altKey:i,ctrlKey:o,metaKey:u,shiftKey:s})))};Object.defineProperty(t,"press",{get:function(){return"keypress"},enumerable:false,configurable:true});Object.defineProperty(t,"down",{get:function(){return"keydown"},enumerable:false,configurable:true});Object.defineProperty(t,"up",{get:function(){return"keyup"},enumerable:false,configurable:true});Object.defineProperty(t,"any",{get:function(){return new t("ANY")},enumerable:false,configurable:true});Object.defineProperty(t,"esc",{get:function(){return new t("Escape","Esc")},enumerable:false,configurable:true});Object.defineProperty(t,"enter",{get:function(){return new t("Enter")},enumerable:false,configurable:true});Object.defineProperty(t,"space",{get:function(){return new t(" ","Spacebar")},enumerable:false,configurable:true});Object.defineProperty(t,"tab",{get:function(){return new t("Tab")},enumerable:false,configurable:true});Object.defineProperty(t,"left",{get:function(){return new t("ArrowLeft","Left")},enumerable:false,configurable:true});Object.defineProperty(t,"right",{get:function(){return new t("ArrowRight","Right")},enumerable:false,configurable:true});return t}();var d=function(){function t(t,e){if(e===void 0){e=0}this.didTouchStart=this.didTouchStart.bind(this),this.didTouchEnd=this.didTouchEnd.bind(this),this.didTouchMove=this.didTouchMove.bind(this),t.addEventListener("touchstart",this.didTouchStart,{capture:!1,passive:!0}),t.addEventListener("touchend",this.didTouchEnd,{capture:!1,passive:!0}),t.addEventListener("touchmove",this.didTouchMove,{capture:!1,passive:!0}),this.element=t,this.tolerance=e,this.didSwipeLeft=function(){},this.didSwipeRight=function(){},this.didMove=function(){}}t.prototype.onLeft=function(t){return this.didSwipeLeft=t,this};t.prototype.onRight=function(t){return this.didSwipeRight=t,this};t.prototype.onMove=function(t){return this.didMove=t,this};t.prototype.destroy=function(){var t=this.element;return t.removeEventListener("touchstart",this.didTouchStart,!1),t.removeEventListener("touchend",this.didTouchEnd,!1),t.removeEventListener("touchmove",this.didTouchMove,!1),this};t.prototype.didTouchStart=function(t){var e=t.touches[0];this.touchStartPoint=new n(e.pageX,e.pageY)};t.prototype.didTouchEnd=function(t){var e=t.changedTouches[0],r=this.touchStartPoint,i=new n(e.pageX,e.pageY);i.isLeftOf(r)&&Math.abs(i.distanceFrom(r).x)>this.tolerance&&this.didSwipeLeft(t),i.isRightOf(r)&&Math.abs(i.distanceFrom(r).x)>this.tolerance&&this.didSwipeRight(t)};t.prototype.didTouchMove=function(t){var e=t.touches[0],r=this.touchStartPoint,i=new n(e.pageX,e.pageY);this.didMove({distance:i.distanceFrom(r),up:i.isAbove(r),down:i.isBelow(r),left:i.isLeftOf(r),right:i.isRightOf(r)})};return t}();export{d,l,o,r,u};