import{r as t,h as r,g as e}from"./p-ae5b4572.js";import"./p-545305c8.js";import{M as o}from"./p-037c9b4a.js";var s=function(t,r,e,o){var s,i=arguments.length,n=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,r,e,o);else for(var f=t.length-1;f>=0;f--)(s=t[f])&&(n=(i<3?s(n):i>3?s(r,e,n):s(r,e))||n);return i>3&&n&&Object.defineProperty(r,e,n),n};const i=class{constructor(r){t(this,r)}get form(){return this.host.querySelector("form")}get fields(){return[].slice.call(this.form.querySelectorAll("ku4-validation"))}async validate(){const{form:t,fields:r}=this,e=r.map(t=>t.validate());Promise.all(e).then(r=>!r.some(t=>!1===t)&&t.submit())}componentDidLoad(){const{form:t}=this,r=t.onsubmit||(()=>{});t.onsubmit=e=>(this.validate(),r.call(e,t),!1)}render(){return r("slot",null)}get host(){return e(this)}};s([o()],i.prototype,"form",null),s([o()],i.prototype,"fields",null);export{i as ku4_form_validation}